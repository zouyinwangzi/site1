import{b as u,aZ as Ha,t as An,j as _,F as Be,c as d,_ as b,aw as Wa,ax as za,ay as qa,az as Ga,V as Ce,g as J,E as xt,$ as Ja,a4 as Za,aa as Qa,a3 as ta,ad as Fn,a6 as Xa,af as Ya,ag as eo,a_ as Sn,ah as Lt,ao as to,a$ as no,b0 as ro,p as Rn,W as Ir,al as Cr,b1 as ke,b2 as T,aM as te,b3 as Gt,aJ as ht,R as Ot,b4 as _r,b5 as ao,aV as oo,e as io}from"./objectWithoutPropertiesLoose-0bd14112.js";/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ae.apply(this,arguments)}var ce;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ce||(ce={}));const kr="popstate";function lo(e){e===void 0&&(e={});function t(r,o){let{pathname:i="/",search:s="",hash:l=""}=Ke(r.location.hash.substr(1));return At("",{pathname:i,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){let i=r.document.querySelector("base"),s="";if(i&&i.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");s=c===-1?l:l.slice(0,c)}return s+"#"+(typeof o=="string"?o:lt(o))}function a(r,o){it(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return co(t,n,a,e)}function q(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function it(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function so(){return Math.random().toString(36).substr(2,8)}function Sr(e,t){return{usr:e.state,key:e.key,idx:t}}function At(e,t,n,a){return n===void 0&&(n=null),ae({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ke(t):t,{state:n,key:t&&t.key||a||so()})}function lt(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Ke(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function co(e,t,n,a){a===void 0&&(a={});let{window:r=document.defaultView,v5Compat:o=!1}=a,i=r.history,s=ce.Pop,l=null,c=h();c==null&&(c=0,i.replaceState(ae({},i.state,{idx:c}),""));function h(){return(i.state||{idx:null}).idx}function g(){s=ce.Pop;let C=h(),E=C==null?null:C-c;c=C,l&&l({action:s,location:w.location,delta:E})}function x(C,E){s=ce.Push;let S=At(w.location,C,E);n&&n(S,C),c=h()+1;let B=Sr(S,c),f=w.createHref(S);try{i.pushState(B,"",f)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;r.location.assign(f)}o&&l&&l({action:s,location:w.location,delta:1})}function I(C,E){s=ce.Replace;let S=At(w.location,C,E);n&&n(S,C),c=h();let B=Sr(S,c),f=w.createHref(S);i.replaceState(B,"",f),o&&l&&l({action:s,location:w.location,delta:0})}function y(C){let E=r.location.origin!=="null"?r.location.origin:r.location.href,S=typeof C=="string"?C:lt(C);return q(E,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,E)}let w={get action(){return s},get location(){return e(r,i)},listen(C){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(kr,g),l=C,()=>{r.removeEventListener(kr,g),l=null}},createHref(C){return t(r,C)},createURL:y,encodeLocation(C){let E=y(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:x,replace:I,go(C){return i.go(C)}};return w}var he;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(he||(he={}));const uo=new Set(["lazy","caseSensitive","path","id","index","children"]);function fo(e){return e.index===!0}function Dn(e,t,n,a){return n===void 0&&(n=[]),a===void 0&&(a={}),e.map((r,o)=>{let i=[...n,o],s=typeof r.id=="string"?r.id:i.join("-");if(q(r.index!==!0||!r.children,"Cannot specify children on an index route"),q(!a[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),fo(r)){let l=ae({},r,t(r),{id:s});return a[s]=l,l}else{let l=ae({},r,t(r),{id:s,children:void 0});return a[s]=l,r.children&&(l.children=Dn(r.children,t,i,a)),l}})}function mt(e,t,n){n===void 0&&(n="/");let a=typeof t=="string"?Ke(t):t,r=It(a.pathname||"/",n);if(r==null)return null;let o=na(e);ho(o);let i=null;for(let s=0;i==null&&s<o.length;++s)i=Io(o[s],ko(r));return i}function na(e,t,n,a){t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a="");let r=(o,i,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(q(l.relativePath.startsWith(a),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(a.length));let c=Je([a,l.relativePath]),h=n.concat(l);o.children&&o.children.length>0&&(q(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),na(o.children,t,h,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:wo(c,o.index),routesMeta:h})};return e.forEach((o,i)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))r(o,i);else for(let l of ra(o.path))r(o,i,l)}),t}function ra(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(a.length===0)return r?[o,""]:[o];let i=ra(a.join("/")),s=[];return s.push(...i.map(l=>l===""?o:[o,l].join("/"))),r&&s.push(...i),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function ho(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:xo(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const mo=/^:\w+$/,po=3,bo=2,go=1,vo=10,yo=-2,Rr=e=>e==="*";function wo(e,t){let n=e.split("/"),a=n.length;return n.some(Rr)&&(a+=yo),t&&(a+=bo),n.filter(r=>!Rr(r)).reduce((r,o)=>r+(mo.test(o)?po:o===""?go:vo),a)}function xo(e,t){return e.length===t.length&&e.slice(0,-1).every((a,r)=>a===t[r])?e[e.length-1]-t[t.length-1]:0}function Io(e,t){let{routesMeta:n}=e,a={},r="/",o=[];for(let i=0;i<n.length;++i){let s=n[i],l=i===n.length-1,c=r==="/"?t:t.slice(r.length)||"/",h=Co({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!h)return null;Object.assign(a,h.params);let g=s.route;o.push({params:a,pathname:Je([r,h.pathname]),pathnameBase:Eo(Je([r,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(r=Je([r,h.pathnameBase]))}return o}function Co(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=_o(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],i=o.replace(/(.)\/+$/,"$1"),s=r.slice(1);return{params:a.reduce((c,h,g)=>{if(h==="*"){let x=s[g]||"";i=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}return c[h]=So(s[g]||"",h),c},{}),pathname:o,pathnameBase:i,pattern:e}}function _o(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),it(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(i,s)=>(a.push(s),"/([^\\/]+)"));return e.endsWith("*")?(a.push("*"),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),a]}function ko(e){try{return decodeURI(e)}catch(t){return it(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function So(e,t){try{return decodeURIComponent(e)}catch(n){return it(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function It(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function Ro(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:r=""}=typeof e=="string"?Ke(e):e;return{pathname:n?n.startsWith("/")?n:Do(n,t):t,search:Mo(a),hash:Lo(r)}}function Do(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function xn(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yt(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $n(e,t,n,a){a===void 0&&(a=!1);let r;typeof e=="string"?r=Ke(e):(r=ae({},e),q(!r.pathname||!r.pathname.includes("?"),xn("?","pathname","search",r)),q(!r.pathname||!r.pathname.includes("#"),xn("#","pathname","hash",r)),q(!r.search||!r.search.includes("#"),xn("#","search","hash",r)));let o=e===""||r.pathname==="",i=o?"/":r.pathname,s;if(a||i==null)s=n;else{let g=t.length-1;if(i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),g-=1;r.pathname=x.join("/")}s=g>=0?t[g]:"/"}let l=Ro(r,s),c=i&&i!=="/"&&i.endsWith("/"),h=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Je=e=>e.join("/").replace(/\/\/+/g,"/"),Eo=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Mo=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Lo=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class jn{constructor(t,n,a,r){r===void 0&&(r=!1),this.status=t,this.statusText=n||"",this.internal=r,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}}function aa(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const oa=["post","put","patch","delete"],Po=new Set(oa),No=["get",...oa],To=new Set(No),Oo=new Set([301,302,303,307,308]),Ao=new Set([307,308]),In={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Fo={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kt={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ia=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$o=e=>({hasErrorBoundary:!!e.hasErrorBoundary});function jo(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",a=!n;q(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(e.mapRouteProperties)r=e.mapRouteProperties;else if(e.detectErrorBoundary){let m=e.detectErrorBoundary;r=p=>({hasErrorBoundary:m(p)})}else r=$o;let o={},i=Dn(e.routes,r,void 0,o),s,l=e.basename||"/",c=ae({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),h=null,g=new Set,x=null,I=null,y=null,w=e.hydrationData!=null,C=mt(i,e.history.location,l),E=null;if(C==null){let m=Pe(404,{pathname:e.history.location.pathname}),{matches:p,route:v}=Or(i);C=p,E={[v.id]:m}}let S=!C.some(m=>m.route.lazy)&&(!C.some(m=>m.route.loader)||e.hydrationData!=null),B,f={historyAction:e.history.action,location:e.history.location,matches:C,initialized:S,navigation:In,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||E,fetchers:new Map,blockers:new Map},M=ce.Pop,H=!1,W,F=!1,L=!1,G=[],P=[],k=new Map,ne=0,oe=-1,ge=new Map,ie=new Set,z=new Map,de=new Map,me=new Map,we=!1;function Te(){return h=e.history.listen(m=>{let{action:p,location:v,delta:D}=m;if(we){we=!1;return}it(me.size===0||D!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let V=Bt({currentLocation:f.location,nextLocation:v,historyAction:p});if(V&&D!=null){we=!0,e.history.go(D*-1),Le(V,{state:"blocked",location:v,proceed(){Le(V,{state:"proceeding",proceed:void 0,reset:void 0,location:v}),e.history.go(D)},reset(){let j=new Map(f.blockers);j.set(V,kt),R({blockers:j})}});return}return Y(p,v)}),f.initialized||Y(ce.Pop,f.location),B}function $(){h&&h(),g.clear(),W&&W.abort(),f.fetchers.forEach((m,p)=>Xe(p)),f.blockers.forEach((m,p)=>Ae(p))}function O(m){return g.add(m),()=>g.delete(m)}function R(m){f=ae({},f,m),g.forEach(p=>p(f))}function U(m,p){var v,D;let V=f.actionData!=null&&f.navigation.formMethod!=null&&$e(f.navigation.formMethod)&&f.navigation.state==="loading"&&((v=m.state)==null?void 0:v._isRedirect)!==!0,j;p.actionData?Object.keys(p.actionData).length>0?j=p.actionData:j=null:V?j=f.actionData:j=null;let K=p.loaderData?Tr(f.loaderData,p.loaderData,p.matches||[],p.errors):f.loaderData,A=f.blockers;A.size>0&&(A=new Map(A),A.forEach((ee,ye)=>A.set(ye,kt)));let N=H===!0||f.navigation.formMethod!=null&&$e(f.navigation.formMethod)&&((D=m.state)==null?void 0:D._isRedirect)!==!0;s&&(i=s,s=void 0),F||M===ce.Pop||(M===ce.Push?e.history.push(m,m.state):M===ce.Replace&&e.history.replace(m,m.state)),R(ae({},p,{actionData:j,loaderData:K,historyAction:M,location:m,initialized:!0,navigation:In,revalidation:"idle",restoreScrollPosition:wr(m,p.matches||f.matches),preventScrollReset:N,blockers:A})),M=ce.Pop,H=!1,F=!1,L=!1,G=[],P=[]}async function re(m,p){if(typeof m=="number"){e.history.go(m);return}let v=En(f.location,f.matches,l,c.v7_prependBasename,m,p==null?void 0:p.fromRouteId,p==null?void 0:p.relative),{path:D,submission:V,error:j}=Dr(c.v7_normalizeFormMethod,!1,v,p),K=f.location,A=At(f.location,D,p&&p.state);A=ae({},A,e.history.encodeLocation(A));let N=p&&p.replace!=null?p.replace:void 0,ee=ce.Push;N===!0?ee=ce.Replace:N===!1||V!=null&&$e(V.formMethod)&&V.formAction===f.location.pathname+f.location.search&&(ee=ce.Replace);let ye=p&&"preventScrollReset"in p?p.preventScrollReset===!0:void 0,Z=Bt({currentLocation:K,nextLocation:A,historyAction:ee});if(Z){Le(Z,{state:"blocked",location:A,proceed(){Le(Z,{state:"proceeding",proceed:void 0,reset:void 0,location:A}),re(m,p)},reset(){let le=new Map(f.blockers);le.set(Z,kt),R({blockers:le})}});return}return await Y(ee,A,{submission:V,pendingError:j,preventScrollReset:ye,replace:p&&p.replace})}function pe(){if(Qe(),R({revalidation:"loading"}),f.navigation.state!=="submitting"){if(f.navigation.state==="idle"){Y(f.historyAction,f.location,{startUninterruptedRevalidation:!0});return}Y(M||f.historyAction,f.navigation.location,{overrideNavigation:f.navigation})}}async function Y(m,p,v){W&&W.abort(),W=null,M=m,F=(v&&v.startUninterruptedRevalidation)===!0,Ka(f.location,f.matches),H=(v&&v.preventScrollReset)===!0;let D=s||i,V=v&&v.overrideNavigation,j=mt(D,p,l);if(!j){let le=Pe(404,{pathname:p.pathname}),{matches:be,route:nt}=Or(D);ze(),U(p,{matches:be,loaderData:{},errors:{[nt.id]:le}});return}if(f.initialized&&!L&&Ho(f.location,p)&&!(v&&v.submission&&$e(v.submission.formMethod))){U(p,{matches:j});return}W=new AbortController;let K=Rt(e.history,p,W.signal,v&&v.submission),A,N;if(v&&v.pendingError)N={[pt(j).route.id]:v.pendingError};else if(v&&v.submission&&$e(v.submission.formMethod)){let le=await ue(K,p,v.submission,j,{replace:v.replace});if(le.shortCircuited)return;A=le.pendingActionData,N=le.pendingActionError,V=Ut(p,v.submission),K=new Request(K.url,{signal:K.signal})}let{shortCircuited:ee,loaderData:ye,errors:Z}=await se(K,p,j,V,v&&v.submission,v&&v.fetcherSubmission,v&&v.replace,A,N);ee||(W=null,U(p,ae({matches:j},A?{actionData:A}:{},{loaderData:ye,errors:Z})))}async function ue(m,p,v,D,V){V===void 0&&(V={}),Qe();let j=Jo(p,v);R({navigation:j});let K,A=Ln(D,p);if(!A.route.action&&!A.route.lazy)K={type:he.error,error:Pe(405,{method:m.method,pathname:p.pathname,routeId:A.route.id})};else if(K=await St("action",m,A,D,o,r,l),m.signal.aborted)return{shortCircuited:!0};if(vt(K)){let N;return V&&V.replace!=null?N=V.replace:N=K.location===f.location.pathname+f.location.search,await De(f,K,{submission:v,replace:N}),{shortCircuited:!0}}if(Pt(K)){let N=pt(D,A.route.id);return(V&&V.replace)!==!0&&(M=ce.Push),{pendingActionData:{},pendingActionError:{[N.route.id]:K.error}}}if(ot(K))throw Pe(400,{type:"defer-action"});return{pendingActionData:{[A.route.id]:K.data}}}async function se(m,p,v,D,V,j,K,A,N){let ee=D||Ut(p,V),ye=V||j||$r(ee),Z=s||i,[le,be]=Er(e.history,f,v,ye,p,L,G,P,z,ie,Z,l,A,N);if(ze(Q=>!(v&&v.some(Fe=>Fe.route.id===Q))||le&&le.some(Fe=>Fe.route.id===Q)),oe=++ne,le.length===0&&be.length===0){let Q=He();return U(p,ae({matches:v,loaderData:{},errors:N||null},A?{actionData:A}:{},Q?{fetchers:new Map(f.fetchers)}:{})),{shortCircuited:!0}}if(!F){be.forEach(Fe=>{let Ye=f.fetchers.get(Fe.key),wn=Dt(void 0,Ye?Ye.data:void 0);f.fetchers.set(Fe.key,wn)});let Q=A||f.actionData;R(ae({navigation:ee},Q?Object.keys(Q).length===0?{actionData:null}:{actionData:Q}:{},be.length>0?{fetchers:new Map(f.fetchers)}:{}))}be.forEach(Q=>{k.has(Q.key)&&Ee(Q.key),Q.controller&&k.set(Q.key,Q.controller)});let nt=()=>be.forEach(Q=>Ee(Q.key));W&&W.signal.addEventListener("abort",nt);let{results:rt,loaderResults:Ct,fetcherResults:bn}=await Ie(f.matches,v,le,be,m);if(m.signal.aborted)return{shortCircuited:!0};W&&W.signal.removeEventListener("abort",nt),be.forEach(Q=>k.delete(Q.key));let qe=Ar(rt);if(qe){if(qe.idx>=le.length){let Q=be[qe.idx-le.length].key;ie.add(Q)}return await De(f,qe.result,{replace:K}),{shortCircuited:!0}}let{loaderData:Ge,errors:Kt}=Nr(f,v,le,Ct,N,be,bn,de);de.forEach((Q,Fe)=>{Q.subscribe(Ye=>{(Ye||Q.done)&&de.delete(Fe)})});let gn=He(),vn=Oe(oe),yn=gn||vn||be.length>0;return ae({loaderData:Ge,errors:Kt},yn?{fetchers:new Map(f.fetchers)}:{})}function ve(m){return f.fetchers.get(m)||Fo}function xe(m,p,v,D){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");k.has(m)&&Ee(m);let V=s||i,j=En(f.location,f.matches,l,c.v7_prependBasename,v,p,D==null?void 0:D.relative),K=mt(V,j,l);if(!K){Ve(m,p,Pe(404,{pathname:j}));return}let{path:A,submission:N,error:ee}=Dr(c.v7_normalizeFormMethod,!0,j,D);if(ee){Ve(m,p,ee);return}let ye=Ln(K,A);if(H=(D&&D.preventScrollReset)===!0,N&&$e(N.formMethod)){Ue(m,p,A,ye,K,N);return}z.set(m,{routeId:p,path:A}),Re(m,p,A,ye,K,N)}async function Ue(m,p,v,D,V,j){if(Qe(),z.delete(m),!D.route.action&&!D.route.lazy){let fe=Pe(405,{method:j.formMethod,pathname:v,routeId:p});Ve(m,p,fe);return}let K=f.fetchers.get(m),A=Zo(j,K);f.fetchers.set(m,A),R({fetchers:new Map(f.fetchers)});let N=new AbortController,ee=Rt(e.history,v,N.signal,j);k.set(m,N);let ye=ne,Z=await St("action",ee,D,V,o,r,l);if(ee.signal.aborted){k.get(m)===N&&k.delete(m);return}if(vt(Z))if(k.delete(m),oe>ye){let fe=ut(void 0);f.fetchers.set(m,fe),R({fetchers:new Map(f.fetchers)});return}else{ie.add(m);let fe=Dt(j);return f.fetchers.set(m,fe),R({fetchers:new Map(f.fetchers)}),De(f,Z,{submission:j,isFetchActionRedirect:!0})}if(Pt(Z)){Ve(m,p,Z.error);return}if(ot(Z))throw Pe(400,{type:"defer-action"});let le=f.navigation.location||f.location,be=Rt(e.history,le,N.signal),nt=s||i,rt=f.navigation.state!=="idle"?mt(nt,f.navigation.location,l):f.matches;q(rt,"Didn't find any matches after fetcher action");let Ct=++ne;ge.set(m,Ct);let bn=Dt(j,Z.data);f.fetchers.set(m,bn);let[qe,Ge]=Er(e.history,f,rt,j,le,L,G,P,z,ie,nt,l,{[D.route.id]:Z.data},void 0);Ge.filter(fe=>fe.key!==m).forEach(fe=>{let _t=fe.key,xr=f.fetchers.get(_t),Va=Dt(void 0,xr?xr.data:void 0);f.fetchers.set(_t,Va),k.has(_t)&&Ee(_t),fe.controller&&k.set(_t,fe.controller)}),R({fetchers:new Map(f.fetchers)});let Kt=()=>Ge.forEach(fe=>Ee(fe.key));N.signal.addEventListener("abort",Kt);let{results:gn,loaderResults:vn,fetcherResults:yn}=await Ie(f.matches,rt,qe,Ge,be);if(N.signal.aborted)return;N.signal.removeEventListener("abort",Kt),ge.delete(m),k.delete(m),Ge.forEach(fe=>k.delete(fe.key));let Q=Ar(gn);if(Q){if(Q.idx>=qe.length){let fe=Ge[Q.idx-qe.length].key;ie.add(fe)}return De(f,Q.result)}let{loaderData:Fe,errors:Ye}=Nr(f,f.matches,qe,vn,void 0,Ge,yn,de);if(f.fetchers.has(m)){let fe=ut(Z.data);f.fetchers.set(m,fe)}let wn=Oe(Ct);f.navigation.state==="loading"&&Ct>oe?(q(M,"Expected pending action"),W&&W.abort(),U(f.navigation.location,{matches:rt,loaderData:Fe,errors:Ye,fetchers:new Map(f.fetchers)})):(R(ae({errors:Ye,loaderData:Tr(f.loaderData,Fe,rt,Ye)},wn||Ge.length>0?{fetchers:new Map(f.fetchers)}:{})),L=!1)}async function Re(m,p,v,D,V,j){let K=f.fetchers.get(m),A=Dt(j,K?K.data:void 0);f.fetchers.set(m,A),R({fetchers:new Map(f.fetchers)});let N=new AbortController,ee=Rt(e.history,v,N.signal);k.set(m,N);let ye=ne,Z=await St("loader",ee,D,V,o,r,l);if(ot(Z)&&(Z=await ca(Z,ee.signal,!0)||Z),k.get(m)===N&&k.delete(m),ee.signal.aborted)return;if(vt(Z))if(oe>ye){let be=ut(void 0);f.fetchers.set(m,be),R({fetchers:new Map(f.fetchers)});return}else{ie.add(m),await De(f,Z);return}if(Pt(Z)){let be=pt(f.matches,p);f.fetchers.delete(m),R({fetchers:new Map(f.fetchers),errors:{[be.route.id]:Z.error}});return}q(!ot(Z),"Unhandled fetcher deferred data");let le=ut(Z.data);f.fetchers.set(m,le),R({fetchers:new Map(f.fetchers)})}async function De(m,p,v){let{submission:D,replace:V,isFetchActionRedirect:j}=v===void 0?{}:v;p.revalidate&&(L=!0);let K=At(m.location,p.location,ae({_isRedirect:!0},j?{_isFetchActionRedirect:!0}:{}));if(q(K,"Expected a location on the redirect navigation"),ia.test(p.location)&&n){let ee=e.history.createURL(p.location),ye=It(ee.pathname,l)==null;if(t.location.origin!==ee.origin||ye){V?t.location.replace(p.location):t.location.assign(p.location);return}}W=null;let A=V===!0?ce.Replace:ce.Push,N=D||$r(m.navigation);if(Ao.has(p.status)&&N&&$e(N.formMethod))await Y(A,K,{submission:ae({},N,{formAction:p.location}),preventScrollReset:H});else if(j)await Y(A,K,{overrideNavigation:Ut(K),fetcherSubmission:N,preventScrollReset:H});else{let ee=Ut(K,N);await Y(A,K,{overrideNavigation:ee,preventScrollReset:H})}}async function Ie(m,p,v,D,V){let j=await Promise.all([...v.map(N=>St("loader",V,N,p,o,r,l)),...D.map(N=>N.matches&&N.match&&N.controller?St("loader",Rt(e.history,N.path,N.controller.signal),N.match,N.matches,o,r,l):{type:he.error,error:Pe(404,{pathname:N.path})})]),K=j.slice(0,v.length),A=j.slice(v.length);return await Promise.all([Fr(m,v,K,K.map(()=>V.signal),!1,f.loaderData),Fr(m,D.map(N=>N.match),A,D.map(N=>N.controller?N.controller.signal:null),!0)]),{results:j,loaderResults:K,fetcherResults:A}}function Qe(){L=!0,G.push(...ze()),z.forEach((m,p)=>{k.has(p)&&(P.push(p),Ee(p))})}function Ve(m,p,v){let D=pt(f.matches,p);Xe(m),R({errors:{[D.route.id]:v},fetchers:new Map(f.fetchers)})}function Xe(m){let p=f.fetchers.get(m);k.has(m)&&!(p&&p.state==="loading"&&ge.has(m))&&Ee(m),z.delete(m),ge.delete(m),ie.delete(m),f.fetchers.delete(m)}function Ee(m){let p=k.get(m);q(p,"Expected fetch controller: "+m),p.abort(),k.delete(m)}function Me(m){for(let p of m){let v=ve(p),D=ut(v.data);f.fetchers.set(p,D)}}function He(){let m=[],p=!1;for(let v of ie){let D=f.fetchers.get(v);q(D,"Expected fetcher: "+v),D.state==="loading"&&(ie.delete(v),m.push(v),p=!0)}return Me(m),p}function Oe(m){let p=[];for(let[v,D]of ge)if(D<m){let V=f.fetchers.get(v);q(V,"Expected fetcher: "+v),V.state==="loading"&&(Ee(v),ge.delete(v),p.push(v))}return Me(p),p.length>0}function We(m,p){let v=f.blockers.get(m)||kt;return me.get(m)!==p&&me.set(m,p),v}function Ae(m){f.blockers.delete(m),me.delete(m)}function Le(m,p){let v=f.blockers.get(m)||kt;q(v.state==="unblocked"&&p.state==="blocked"||v.state==="blocked"&&p.state==="blocked"||v.state==="blocked"&&p.state==="proceeding"||v.state==="blocked"&&p.state==="unblocked"||v.state==="proceeding"&&p.state==="unblocked","Invalid blocker state transition: "+v.state+" -> "+p.state);let D=new Map(f.blockers);D.set(m,p),R({blockers:D})}function Bt(m){let{currentLocation:p,nextLocation:v,historyAction:D}=m;if(me.size===0)return;me.size>1&&it(!1,"A router only supports one blocker at a time");let V=Array.from(me.entries()),[j,K]=V[V.length-1],A=f.blockers.get(j);if(!(A&&A.state==="proceeding")&&K({currentLocation:p,nextLocation:v,historyAction:D}))return j}function ze(m){let p=[];return de.forEach((v,D)=>{(!m||m(D))&&(v.cancel(),p.push(D),de.delete(D))}),p}function pn(m,p,v){if(x=m,y=p,I=v||null,!w&&f.navigation===In){w=!0;let D=wr(f.location,f.matches);D!=null&&R({restoreScrollPosition:D})}return()=>{x=null,y=null,I=null}}function yr(m,p){return I&&I(m,p.map(D=>Go(D,f.loaderData)))||m.key}function Ka(m,p){if(x&&y){let v=yr(m,p);x[v]=y()}}function wr(m,p){if(x){let v=yr(m,p),D=x[v];if(typeof D=="number")return D}return null}function Ua(m){o={},s=Dn(m,r,void 0,o)}return B={get basename(){return l},get state(){return f},get routes(){return i},initialize:Te,subscribe:O,enableScrollRestoration:pn,navigate:re,fetch:xe,revalidate:pe,createHref:m=>e.history.createHref(m),encodeLocation:m=>e.history.encodeLocation(m),getFetcher:ve,deleteFetcher:Xe,dispose:$,getBlocker:We,deleteBlocker:Ae,_internalFetchControllers:k,_internalActiveDeferreds:de,_internalSetRoutes:Ua},B}function Bo(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function En(e,t,n,a,r,o,i){let s,l;if(o!=null&&i!=="path"){s=[];for(let h of t)if(s.push(h),h.route.id===o){l=h;break}}else s=t,l=t[t.length-1];let c=$n(r||".",Yt(s).map(h=>h.pathnameBase),It(e.pathname,n)||e.pathname,i==="path");return r==null&&(c.search=e.search,c.hash=e.hash),(r==null||r===""||r===".")&&l&&l.route.index&&!Bn(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),a&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Je([n,c.pathname])),lt(c)}function Dr(e,t,n,a){if(!a||!Bo(a))return{path:n};if(a.formMethod&&!qo(a.formMethod))return{path:n,error:Pe(405,{method:a.formMethod})};let r=()=>({path:n,error:Pe(400,{type:"invalid-body"})}),o=a.formMethod||"get",i=e?o.toUpperCase():o.toLowerCase(),s=sa(n);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!$e(i))return r();let x=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((I,y)=>{let[w,C]=y;return""+I+w+"="+C+`
`},""):String(a.body);return{path:n,submission:{formMethod:i,formAction:s,formEncType:a.formEncType,formData:void 0,json:void 0,text:x}}}else if(a.formEncType==="application/json"){if(!$e(i))return r();try{let x=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:n,submission:{formMethod:i,formAction:s,formEncType:a.formEncType,formData:void 0,json:x,text:void 0}}}catch{return r()}}}q(typeof FormData=="function","FormData is not available in this environment");let l,c;if(a.formData)l=Mn(a.formData),c=a.formData;else if(a.body instanceof FormData)l=Mn(a.body),c=a.body;else if(a.body instanceof URLSearchParams)l=a.body,c=Pr(l);else if(a.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(a.body),c=Pr(l)}catch{return r()}let h={formMethod:i,formAction:s,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if($e(h.formMethod))return{path:n,submission:h};let g=Ke(n);return t&&g.search&&Bn(g.search)&&l.append("index",""),g.search="?"+l,{path:lt(g),submission:h}}function Ko(e,t){let n=e;if(t){let a=e.findIndex(r=>r.route.id===t);a>=0&&(n=e.slice(0,a))}return n}function Er(e,t,n,a,r,o,i,s,l,c,h,g,x,I){let y=I?Object.values(I)[0]:x?Object.values(x)[0]:void 0,w=e.createURL(t.location),C=e.createURL(r),E=I?Object.keys(I)[0]:void 0,B=Ko(n,E).filter((M,H)=>{if(M.route.lazy)return!0;if(M.route.loader==null)return!1;if(Uo(t.loaderData,t.matches[H],M)||i.some(L=>L===M.route.id))return!0;let W=t.matches[H],F=M;return Mr(M,ae({currentUrl:w,currentParams:W.params,nextUrl:C,nextParams:F.params},a,{actionResult:y,defaultShouldRevalidate:o||w.pathname+w.search===C.pathname+C.search||w.search!==C.search||la(W,F)}))}),f=[];return l.forEach((M,H)=>{if(!n.some(P=>P.route.id===M.routeId))return;let W=mt(h,M.path,g);if(!W){f.push({key:H,routeId:M.routeId,path:M.path,matches:null,match:null,controller:null});return}let F=t.fetchers.get(H),L=Ln(W,M.path),G=!1;c.has(H)?G=!1:s.includes(H)?G=!0:F&&F.state!=="idle"&&F.data===void 0?G=o:G=Mr(L,ae({currentUrl:w,currentParams:t.matches[t.matches.length-1].params,nextUrl:C,nextParams:n[n.length-1].params},a,{actionResult:y,defaultShouldRevalidate:o})),G&&f.push({key:H,routeId:M.routeId,path:M.path,matches:W,match:L,controller:new AbortController})}),[B,f]}function Uo(e,t,n){let a=!t||n.route.id!==t.route.id,r=e[n.route.id]===void 0;return a||r}function la(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Mr(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function Lr(e,t,n){if(!e.lazy)return;let a=await e.lazy();if(!e.lazy)return;let r=n[e.id];q(r,"No route found in manifest");let o={};for(let i in a){let l=r[i]!==void 0&&i!=="hasErrorBoundary";it(!l,'Route "'+r.id+'" has a static property "'+i+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+i+'" will be ignored.')),!l&&!uo.has(i)&&(o[i]=a[i])}Object.assign(r,o),Object.assign(r,ae({},t(r),{lazy:void 0}))}async function St(e,t,n,a,r,o,i,s){s===void 0&&(s={});let l,c,h,g=y=>{let w,C=new Promise((E,S)=>w=S);return h=()=>w(),t.signal.addEventListener("abort",h),Promise.race([y({request:t,params:n.params,context:s.requestContext}),C])};try{let y=n.route[e];if(n.route.lazy)if(y)c=(await Promise.all([g(y),Lr(n.route,o,r)]))[0];else if(await Lr(n.route,o,r),y=n.route[e],y)c=await g(y);else if(e==="action"){let w=new URL(t.url),C=w.pathname+w.search;throw Pe(405,{method:t.method,pathname:C,routeId:n.route.id})}else return{type:he.data,data:void 0};else if(y)c=await g(y);else{let w=new URL(t.url),C=w.pathname+w.search;throw Pe(404,{pathname:C})}q(c!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(y){l=he.error,c=y}finally{h&&t.signal.removeEventListener("abort",h)}if(zo(c)){let y=c.status;if(Oo.has(y)){let E=c.headers.get("Location");if(q(E,"Redirects returned/thrown from loaders/actions must have a Location header"),!ia.test(E))E=En(new URL(t.url),a.slice(0,a.indexOf(n)+1),i,!0,E);else if(!s.isStaticRequest){let S=new URL(t.url),B=E.startsWith("//")?new URL(S.protocol+E):new URL(E),f=It(B.pathname,i)!=null;B.origin===S.origin&&f&&(E=B.pathname+B.search+B.hash)}if(s.isStaticRequest)throw c.headers.set("Location",E),c;return{type:he.redirect,status:y,location:E,revalidate:c.headers.get("X-Remix-Revalidate")!==null}}if(s.isRouteRequest)throw{type:l||he.data,response:c};let w,C=c.headers.get("Content-Type");return C&&/\bapplication\/json\b/.test(C)?w=await c.json():w=await c.text(),l===he.error?{type:l,error:new jn(y,c.statusText,w),headers:c.headers}:{type:he.data,data:w,statusCode:c.status,headers:c.headers}}if(l===he.error)return{type:l,error:c};if(Wo(c)){var x,I;return{type:he.deferred,deferredData:c,statusCode:(x=c.init)==null?void 0:x.status,headers:((I=c.init)==null?void 0:I.headers)&&new Headers(c.init.headers)}}return{type:he.data,data:c}}function Rt(e,t,n,a){let r=e.createURL(sa(t)).toString(),o={signal:n};if(a&&$e(a.formMethod)){let{formMethod:i,formEncType:s}=a;o.method=i.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(a.json)):s==="text/plain"?o.body=a.text:s==="application/x-www-form-urlencoded"&&a.formData?o.body=Mn(a.formData):o.body=a.formData}return new Request(r,o)}function Mn(e){let t=new URLSearchParams;for(let[n,a]of e.entries())t.append(n,typeof a=="string"?a:a.name);return t}function Pr(e){let t=new FormData;for(let[n,a]of e.entries())t.append(n,a);return t}function Vo(e,t,n,a,r){let o={},i=null,s,l=!1,c={};return n.forEach((h,g)=>{let x=t[g].route.id;if(q(!vt(h),"Cannot handle redirect results in processLoaderData"),Pt(h)){let I=pt(e,x),y=h.error;a&&(y=Object.values(a)[0],a=void 0),i=i||{},i[I.route.id]==null&&(i[I.route.id]=y),o[x]=void 0,l||(l=!0,s=aa(h.error)?h.error.status:500),h.headers&&(c[x]=h.headers)}else ot(h)?(r.set(x,h.deferredData),o[x]=h.deferredData.data):o[x]=h.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(s=h.statusCode),h.headers&&(c[x]=h.headers)}),a&&(i=a,o[Object.keys(a)[0]]=void 0),{loaderData:o,errors:i,statusCode:s||200,loaderHeaders:c}}function Nr(e,t,n,a,r,o,i,s){let{loaderData:l,errors:c}=Vo(t,n,a,r,s);for(let h=0;h<o.length;h++){let{key:g,match:x,controller:I}=o[h];q(i!==void 0&&i[h]!==void 0,"Did not find corresponding fetcher result");let y=i[h];if(!(I&&I.signal.aborted))if(Pt(y)){let w=pt(e.matches,x==null?void 0:x.route.id);c&&c[w.route.id]||(c=ae({},c,{[w.route.id]:y.error})),e.fetchers.delete(g)}else if(vt(y))q(!1,"Unhandled fetcher revalidation redirect");else if(ot(y))q(!1,"Unhandled fetcher deferred data");else{let w=ut(y.data);e.fetchers.set(g,w)}}return{loaderData:l,errors:c}}function Tr(e,t,n,a){let r=ae({},t);for(let o of n){let i=o.route.id;if(t.hasOwnProperty(i)?t[i]!==void 0&&(r[i]=t[i]):e[i]!==void 0&&o.route.loader&&(r[i]=e[i]),a&&a.hasOwnProperty(i))break}return r}function pt(e,t){return(t?e.slice(0,e.findIndex(a=>a.route.id===t)+1):[...e]).reverse().find(a=>a.route.hasErrorBoundary===!0)||e[0]}function Or(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Pe(e,t){let{pathname:n,routeId:a,method:r,type:o}=t===void 0?{}:t,i="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(i="Bad Request",r&&n&&a?s="You made a "+r+' request to "'+n+'" but '+('did not provide a `loader` for route "'+a+'", ')+"so there is no way to handle the request.":o==="defer-action"?s="defer() is not supported in actions":o==="invalid-body"&&(s="Unable to encode submission body")):e===403?(i="Forbidden",s='Route "'+a+'" does not match URL "'+n+'"'):e===404?(i="Not Found",s='No route matches URL "'+n+'"'):e===405&&(i="Method Not Allowed",r&&n&&a?s="You made a "+r.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+a+'", ')+"so there is no way to handle the request.":r&&(s='Invalid request method "'+r.toUpperCase()+'"')),new jn(e||500,i,new Error(s),!0)}function Ar(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(vt(n))return{result:n,idx:t}}}function sa(e){let t=typeof e=="string"?Ke(e):e;return lt(ae({},t,{hash:""}))}function Ho(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function ot(e){return e.type===he.deferred}function Pt(e){return e.type===he.error}function vt(e){return(e&&e.type)===he.redirect}function Wo(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function zo(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function qo(e){return To.has(e.toLowerCase())}function $e(e){return Po.has(e.toLowerCase())}async function Fr(e,t,n,a,r,o){for(let i=0;i<n.length;i++){let s=n[i],l=t[i];if(!l)continue;let c=e.find(g=>g.route.id===l.route.id),h=c!=null&&!la(c,l)&&(o&&o[l.route.id])!==void 0;if(ot(s)&&(r||h)){let g=a[i];q(g,"Expected an AbortSignal for revalidating fetcher deferred result"),await ca(s,g,r).then(x=>{x&&(n[i]=x||n[i])})}}}async function ca(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:he.data,data:e.deferredData.unwrappedData}}catch(r){return{type:he.error,error:r}}return{type:he.data,data:e.deferredData.data}}}function Bn(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Go(e,t){let{route:n,pathname:a,params:r}=e;return{id:n.id,pathname:a,params:r,data:t[n.id],handle:n.handle}}function Ln(e,t){let n=typeof t=="string"?Ke(t).search:t.search;if(e[e.length-1].route.index&&Bn(n||""))return e[e.length-1];let a=Yt(e);return a[a.length-1]}function $r(e){let{formMethod:t,formAction:n,formEncType:a,text:r,formData:o,json:i}=e;if(!(!t||!n||!a)){if(r!=null)return{formMethod:t,formAction:n,formEncType:a,formData:void 0,json:void 0,text:r};if(o!=null)return{formMethod:t,formAction:n,formEncType:a,formData:o,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:n,formEncType:a,formData:void 0,json:i,text:void 0}}}function Ut(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Jo(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Dt(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}function Zo(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0," _hasFetcherDoneAnything ":!0}}function ut(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jt(){return Jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Jt.apply(this,arguments)}const en=u.createContext(null),Kn=u.createContext(null),st=u.createContext(null),tn=u.createContext(null),tt=u.createContext({outlet:null,matches:[],isDataRoute:!1}),da=u.createContext(null);function Qo(e,t){let{relative:n}=t===void 0?{}:t;$t()||q(!1);let{basename:a,navigator:r}=u.useContext(st),{hash:o,pathname:i,search:s}=Un(e,{relative:n}),l=i;return a!=="/"&&(l=i==="/"?a:Je([a,i])),r.createHref({pathname:l,search:s,hash:o})}function $t(){return u.useContext(tn)!=null}function ct(){return $t()||q(!1),u.useContext(tn).location}function ua(e){u.useContext(st).static||u.useLayoutEffect(e)}function fa(){let{isDataRoute:e}=u.useContext(tt);return e?ui():Xo()}function Xo(){$t()||q(!1);let e=u.useContext(en),{basename:t,navigator:n}=u.useContext(st),{matches:a}=u.useContext(tt),{pathname:r}=ct(),o=JSON.stringify(Yt(a).map(l=>l.pathnameBase)),i=u.useRef(!1);return ua(()=>{i.current=!0}),u.useCallback(function(l,c){if(c===void 0&&(c={}),!i.current)return;if(typeof l=="number"){n.go(l);return}let h=$n(l,JSON.parse(o),r,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Je([t,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[t,n,o,r,e])}const Yo=u.createContext(null);function ei(e){let t=u.useContext(tt).outlet;return t&&u.createElement(Yo.Provider,{value:e},t)}function Un(e,t){let{relative:n}=t===void 0?{}:t,{matches:a}=u.useContext(tt),{pathname:r}=ct(),o=JSON.stringify(Yt(a).map(i=>i.pathnameBase));return u.useMemo(()=>$n(e,JSON.parse(o),r,n==="path"),[e,o,r,n])}function ti(e,t,n){$t()||q(!1);let{navigator:a}=u.useContext(st),{matches:r}=u.useContext(tt),o=r[r.length-1],i=o?o.params:{};o&&o.pathname;let s=o?o.pathnameBase:"/";o&&o.route;let l=ct(),c;if(t){var h;let w=typeof t=="string"?Ke(t):t;s==="/"||(h=w.pathname)!=null&&h.startsWith(s)||q(!1),c=w}else c=l;let g=c.pathname||"/",x=s==="/"?g:g.slice(s.length)||"/",I=mt(e,{pathname:x}),y=ii(I&&I.map(w=>Object.assign({},w,{params:Object.assign({},i,w.params),pathname:Je([s,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?s:Je([s,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),r,n);return t&&y?u.createElement(tn.Provider,{value:{location:Jt({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ce.Pop}},y):y}function ni(){let e=di(),t=aa(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},t),n?u.createElement("pre",{style:r},n):null,o)}const ri=u.createElement(ni,null);class ai extends u.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?u.createElement(tt.Provider,{value:this.props.routeContext},u.createElement(da.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oi(e){let{routeContext:t,match:n,children:a}=e,r=u.useContext(en);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),u.createElement(tt.Provider,{value:t},a)}function ii(e,t,n){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var r;if((r=n)!=null&&r.errors)e=n.matches;else return null}let o=e,i=(a=n)==null?void 0:a.errors;if(i!=null){let s=o.findIndex(l=>l.route.id&&(i==null?void 0:i[l.route.id]));s>=0||q(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((s,l,c)=>{let h=l.route.id?i==null?void 0:i[l.route.id]:null,g=null;n&&(g=l.route.errorElement||ri);let x=t.concat(o.slice(0,c+1)),I=()=>{let y;return h?y=g:l.route.Component?y=u.createElement(l.route.Component,null):l.route.element?y=l.route.element:y=s,u.createElement(oi,{match:l,routeContext:{outlet:s,matches:x,isDataRoute:n!=null},children:y})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?u.createElement(ai,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:I(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):I()},null)}var Pn;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(Pn||(Pn={}));var Ft;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(Ft||(Ft={}));function li(e){let t=u.useContext(en);return t||q(!1),t}function si(e){let t=u.useContext(Kn);return t||q(!1),t}function ci(e){let t=u.useContext(tt);return t||q(!1),t}function ha(e){let t=ci(),n=t.matches[t.matches.length-1];return n.route.id||q(!1),n.route.id}function di(){var e;let t=u.useContext(da),n=si(Ft.UseRouteError),a=ha(Ft.UseRouteError);return t||((e=n.errors)==null?void 0:e[a])}function ui(){let{router:e}=li(Pn.UseNavigateStable),t=ha(Ft.UseNavigateStable),n=u.useRef(!1);return ua(()=>{n.current=!0}),u.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Jt({fromRouteId:t},o)))},[e,t])}const fi="startTransition",jr=Ha[fi];function hi(e){let{fallbackElement:t,router:n,future:a}=e,[r,o]=u.useState(n.state),{v7_startTransition:i}=a||{},s=u.useCallback(g=>{i&&jr?jr(()=>o(g)):o(g)},[o,i]);u.useLayoutEffect(()=>n.subscribe(s),[n,s]);let l=u.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:g=>n.navigate(g),push:(g,x,I)=>n.navigate(g,{state:x,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(g,x,I)=>n.navigate(g,{replace:!0,state:x,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),c=n.basename||"/",h=u.useMemo(()=>({router:n,navigator:l,static:!1,basename:c}),[n,l,c]);return u.createElement(u.Fragment,null,u.createElement(en.Provider,{value:h},u.createElement(Kn.Provider,{value:r},u.createElement(bi,{basename:c,location:r.location,navigationType:r.historyAction,navigator:l},r.initialized?u.createElement(mi,{routes:n.routes,state:r}):t))),null)}function mi(e){let{routes:t,state:n}=e;return ti(t,void 0,n)}function pi(e){return ei(e.context)}function bi(e){let{basename:t="/",children:n=null,location:a,navigationType:r=ce.Pop,navigator:o,static:i=!1}=e;$t()&&q(!1);let s=t.replace(/^\/*/,"/"),l=u.useMemo(()=>({basename:s,navigator:o,static:i}),[s,o,i]);typeof a=="string"&&(a=Ke(a));let{pathname:c="/",search:h="",hash:g="",state:x=null,key:I="default"}=a,y=u.useMemo(()=>{let w=It(c,s);return w==null?null:{location:{pathname:w,search:h,hash:g,state:x,key:I},navigationType:r}},[s,c,h,g,x,I,r]);return y==null?null:u.createElement(st.Provider,{value:l},u.createElement(tn.Provider,{children:n,value:y}))}var Br;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Br||(Br={}));new Promise(()=>{});function gi(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:u.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:u.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wt(){return wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wt.apply(this,arguments)}function ma(e,t){if(e==null)return{};var n={},a=Object.keys(e),r,o;for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function vi(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yi(e,t){return e.button===0&&(!t||t==="_self")&&!vi(e)}function Nn(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(r=>[n,r]):[[n,a]])},[]))}function wi(e,t){let n=Nn(e);if(t)for(let a of t.keys())n.has(a)||t.getAll(a).forEach(r=>{n.append(a,r)});return n}const xi=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Ii=["aria-current","caseSensitive","className","end","style","to","children"];function Ci(e,t){return jo({basename:t==null?void 0:t.basename,future:wt({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:lo({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||_i(),routes:e,mapRouteProperties:gi}).initialize()}function _i(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=wt({},t,{errors:ki(t.errors)})),t}function ki(e){if(!e)return null;let t=Object.entries(e),n={};for(let[a,r]of t)if(r&&r.__type==="RouteErrorResponse")n[a]=new jn(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let o=window[r.__subType];if(typeof o=="function")try{let i=new o(r.message);i.stack="",n[a]=i}catch{}}if(n[a]==null){let o=new Error(r.message);o.stack="",n[a]=o}}else n[a]=r;return n}const Si=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ri=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Di=u.forwardRef(function(t,n){let{onClick:a,relative:r,reloadDocument:o,replace:i,state:s,target:l,to:c,preventScrollReset:h}=t,g=ma(t,xi),{basename:x}=u.useContext(st),I,y=!1;if(typeof c=="string"&&Ri.test(c)&&(I=c,Si))try{let S=new URL(window.location.href),B=c.startsWith("//")?new URL(S.protocol+c):new URL(c),f=It(B.pathname,x);B.origin===S.origin&&f!=null?c=f+B.search+B.hash:y=!0}catch{}let w=Qo(c,{relative:r}),C=Mi(c,{replace:i,state:s,target:l,preventScrollReset:h,relative:r});function E(S){a&&a(S),S.defaultPrevented||C(S)}return u.createElement("a",wt({},g,{href:I||w,onClick:y||o?a:E,ref:n,target:l}))}),Ei=u.forwardRef(function(t,n){let{"aria-current":a="page",caseSensitive:r=!1,className:o="",end:i=!1,style:s,to:l,children:c}=t,h=ma(t,Ii),g=Un(l,{relative:h.relative}),x=ct(),I=u.useContext(Kn),{navigator:y}=u.useContext(st),w=y.encodeLocation?y.encodeLocation(g).pathname:g.pathname,C=x.pathname,E=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;r||(C=C.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase());let S=C===w||!i&&C.startsWith(w)&&C.charAt(w.length)==="/",B=E!=null&&(E===w||!i&&E.startsWith(w)&&E.charAt(w.length)==="/"),f=S?a:void 0,M;typeof o=="function"?M=o({isActive:S,isPending:B}):M=[o,S?"active":null,B?"pending":null].filter(Boolean).join(" ");let H=typeof s=="function"?s({isActive:S,isPending:B}):s;return u.createElement(Di,wt({},h,{"aria-current":f,className:M,ref:n,style:H,to:l}),typeof c=="function"?c({isActive:S,isPending:B}):c)});var Kr;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Kr||(Kr={}));var Ur;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ur||(Ur={}));function Mi(e,t){let{target:n,replace:a,state:r,preventScrollReset:o,relative:i}=t===void 0?{}:t,s=fa(),l=ct(),c=Un(e,{relative:i});return u.useCallback(h=>{if(yi(h,n)){h.preventDefault();let g=a!==void 0?a:lt(l)===lt(c);s(e,{replace:g,state:r,preventScrollReset:o,relative:i})}},[l,s,c,a,r,n,e,o,i])}function Li(e){let t=u.useRef(Nn(e)),n=u.useRef(!1),a=ct(),r=u.useMemo(()=>wi(a.search,n.current?null:t.current),[a.search]),o=fa(),i=u.useCallback((s,l)=>{const c=Nn(typeof s=="function"?s(r):s);n.current=!0,o("?"+c,l)},[o,r]);return[r,i]}const je=An.div`fb-h-[1px] fb-w-full fb-bg-[#EEF3F9] fb-my-5 wp-md:fb-my-9`,{license:Pi,deactivate_license_nonce:Ni}=window.fbv_data,Ti=()=>{const[e,t]=u.useState(!1),[n,a]=u.useState(!1),r=()=>{jQuery.ajax({url:window.ajaxurl,method:"POST",data:{action:"fbv_deactivate_license",nonce:Ni},beforeSend:()=>{t(!0)},cache:!1}).done(()=>{t(!1),location.reload()}).fail(()=>{t(!1),J.error(b("deactivate_license_try_again"))})};return _(Be,{children:[d("div",{children:_("h1",{className:"fb-mt-0",children:[b("congratulations")," "]})}),d("p",{children:d("strong",{children:b("activated_license")})}),_("div",{children:[_("span",{children:[b("your_license_is"),"",Pi.key,"."]}),_(Wa,{open:n,onOpenChange:a,children:[d(za,{asChild:!0,children:d("span",{tabIndex:0,role:"button",className:"fb-cursor-pointer fb-text-[#b32d2e] fb-underline fb-deactivate-license-btn",onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),a(!0))},children:b("deactivated_license")})}),d(qa,{sideOffset:5,children:d(Ga,{title:d("span",{children:b("deactivate_license_confirm_title")}),content:d("span",{dangerouslySetInnerHTML:{__html:b("deactivate_license_confirm_content")}}),confirmText:b("confirm"),onConfirm:r,confirmButtonClassName:Ce({"updating-message":e})})})]})]}),_("div",{className:"fb-mx-0 fb-my-5 fb-max-w-[500px] fb-rounded fb-border fb-border-solid fb-border-[#e4dbb9] fb-bg-[#fff3ce] fb-px-[10px] fb-py-1 fb-text-sm fb-text-[#88670a]",children:[_("strong",{children:[b("note"),": "]}),b("license_note"),"",d("a",{href:"https://ninjateam.gitbook.io/filebird/introduction/license",target:"_blank",rel:"noreferrer",className:"fb-font-bold fb-text-[#ff9b37] fb-no-underline",children:b("learn_more")})]}),d(je,{className:"wp-md:fb-my-5"}),d("div",{children:_("span",{children:[b("starting_new_site"),"",d("a",{target:"_blank",rel:"noreferrer",href:"https://1.envato.market/Get-FileBird",children:b("buy_another_license")})]})})]})},Oi=xt.a.attrs({href:"#"})`fb-items-center fb-bg-[#81b441] fb-rounded fb-text-white fb-inline-flex fb-font-medium fb-leading-none fb-py-3 fb-px-5 fb-no-underline fb-outline-none fb-cursor-pointer fb-mt-[10px]
  
  active:fb-text-white active:fb-shadow-none active:fb-outline-none
  hover:fb-shadow-none hover:fb-text-white hover:fb-outline-none hover:fb-bg-[#74a13a]
`,Ai=[b("feature_1"),b("feature_2"),b("feature_3"),b("feature_4")],Fi=({buynow:e})=>_(Be,{children:[_("div",{children:[d("h1",{className:"fb-mt-0",children:b("active_your_license")}),d("p",{children:b("active_your_license_desc")})]}),d("strong",{children:b("active_features")}),d("ul",{className:"fb-my-3 fb-mx-0",children:Ai.map(t=>_("li",{className:"fb-flex fb-items-center",children:[d("svg",{className:"fb-text-[#4caf50] fb-mr-2 fb-flex-shrink-0",width:20,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d("path",{d:"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"})}),t]},t))}),_(Oi,{className:"fb-activate-license-button",onClick:e,children:[d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 32 32",fill:"currentColor",className:"fb-mr-[10px] fb-text-base",children:d("path",{d:"M26.2,2.1C22-2.8,8.4,6.7,8.5,19c0,0.3-0.3,0.6-0.6,0.6c-0.2,0-0.4-0.1-0.5-0.3c-1.4-3-1.6-6.5-0.5-9.6C7.1,9.4,6.9,9.1,6.6,9C6.4,8.9,6.2,9,6.1,9.1c-2.3,2.4-3.5,5.6-3.5,8.9c-0.1,7.2,5.7,13.1,12.8,13.1c0.1,0,0.2,0,0.3,0C34.2,30.7,29.9,6.5,26.2,2.1z"})}),d("span",{children:b("login_with_envato")})]})]}),jt=({children:e,footer:t})=>d(Be,{children:_("div",{className:"fb-p-4 wp-md:fb-p-12 fb-flex-1",children:[e,t&&d("div",{className:"fb-flex fb-justify-end fb-mt-6",children:t})]})}),{asset_url:$i,login_envato_url:ji,license:Bi}=window.fbv_data,Ki=xt.div`fb-max-w-[250px] fb-w-[250px] fb-h-[250px] fb-mb-4 fb-bg-no-repeat fb-object-cover fb-shrink-0 fb-grow-0`,Vr=()=>{const[e,t]=u.useState(Bi.status),n=()=>{const r=window.open(ji,"","width=500,height=500"),o=setInterval(async function(i){r.closed&&(clearInterval(o),location.reload())},100)},a=`${$i}img/${e?"happy-bird.svg":"sad-bird.svg"}`;return d(jt,{children:_("div",{className:"fb-flex fb-flex-col wp-md:fb-flex-row fb-items-center fb-justify-center",children:[d(Ki,{style:{backgroundImage:`url(${a})`}}),d("div",{children:e?d(Ti,{}):d(Fi,{buynow:n})})]})})},Se=An.button(({$secondary:e,$danger:t})=>["button fb-flex fb-items-center fb-justify-center fb-gap-1 fb-min-w-24 fb-bg-admin-primary fb-font-medium fb-before-icon-primary fb-text-white fb-outline-none hover:fb-bg-admin-primary-darker active:fb-bg-admin-primary-darker focus:fb-shadow-admin-button fb-transition-shadow",e&&"fb-bg-white fb-text-admin-primary hover:fb-bg-admin-primary fb-before-icon-secondary hover:fb-text-white active:fb-text-white",t&&"fb-bg-admin-danger-lighter fb-border-transparent fb-text-admin-danger fb-before-icon-danger hover:fb-bg-red-200 active:fb-bg-red-200 focus:fb-shadow-[inset_0_0_0_1px_#fff,0_0_0_0.5px_#C82D270F]"]),pa="Switch",[Ui,vs]=Ja(pa),[Vi,Hi]=Ui(pa),Wi=u.forwardRef((e,t)=>{const{__scopeSwitch:n,name:a,checked:r,defaultChecked:o,required:i,disabled:s,value:l="on",onCheckedChange:c,...h}=e,[g,x]=u.useState(null),I=Za(t,S=>x(S)),y=u.useRef(!1),w=g?!!g.closest("form"):!0,[C=!1,E]=Qa({prop:r,defaultProp:o,onChange:c});return u.createElement(Vi,{scope:n,checked:C,disabled:s},u.createElement(ta.button,Fn({type:"button",role:"switch","aria-checked":C,"aria-required":i,"data-state":ba(C),"data-disabled":s?"":void 0,disabled:s,value:l},h,{ref:I,onClick:Xa(e.onClick,S=>{E(B=>!B),w&&(y.current=S.isPropagationStopped(),y.current||S.stopPropagation())})})),w&&u.createElement(Gi,{control:g,bubbles:!y.current,name:a,value:l,checked:C,required:i,disabled:s,style:{transform:"translateX(-100%)"}}))}),zi="SwitchThumb",qi=u.forwardRef((e,t)=>{const{__scopeSwitch:n,...a}=e,r=Hi(zi,n);return u.createElement(ta.span,Fn({"data-state":ba(r.checked),"data-disabled":r.disabled?"":void 0},a,{ref:t}))}),Gi=e=>{const{control:t,checked:n,bubbles:a=!0,...r}=e,o=u.useRef(null),i=Ya(n),s=eo(t);return u.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==n&&g){const x=new Event("click",{bubbles:a});g.call(l,n),l.dispatchEvent(x)}},[i,n,a]),u.createElement("input",Fn({type:"checkbox","aria-hidden":!0,defaultChecked:n},r,{tabIndex:-1,ref:o,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function ba(e){return e?"checked":"unchecked"}const ga=Wi,Ji=qi,bt=u.forwardRef(({className:e,...t},n)=>d(ga,{className:Sn("fb-peer fb-p-0 fb-inline-flex fb-h-[18px] fb-w-9 fb-shrink-0 fb-cursor-pointer fb-items-center fb-rounded-full fb-border fb-border-teal-950 fb-border-solid fb-bg-transparent fb-shadow-sm fb-transition-colors focus-visible:fb-outline-none focus-visible:fb-ring-2 focus-visible:fb-ring-ring focus-visible:fb-ring-offset-2 focus-visible:fb-ring-offset-white disabled:fb-cursor-not-allowed disabled:fb-opacity-50 data-[state=checked]:fb-bg-admin-primary data-[state=unchecked]:fb-bg-input data-[state=checked]:fb-border-transparent",e),...t,ref:n,children:d(Ji,{className:Sn("fb-pointer-events-none fb-block fb-h-3 fb-w-3 fb-rounded-full fb-bg-teal-950 fb-shadow-lg fb-ring-0 fb-transition-transform data-[state=checked]:fb-translate-x-5 data-[state=checked]:fb-bg-white data-[state=unchecked]:fb-translate-x-0.5")})}));bt.displayName=ga.displayName;const Zi=()=>{const[e,t]=u.useState(!1),n=Lt(s=>s.settings),a=Lt(s=>s.updateSetting),[r,o]=u.useState(!1);return u.useEffect(()=>{t(!!(n.enable_cache_optimization??!1))},[n.enable_cache_optimization]),d(Be,{children:_(jt,{footer:d(Se,{disabled:r,className:r?"updating-message":"",onClick:async()=>{o(!0);try{await a({...n,enable_cache_optimization:e})}catch(s){J.error(b("set_setting_fail")),console.log({error:s})}finally{o(!1)}},children:b("save_changes")}),children:[d("h3",{className:"fb-mt-0 fb-p-0",children:b("document_library")}),d("div",{className:"fb-flex fb-flex-col fb-gap-[10px]",children:_("div",{className:"fb-flex fb-gap-[10px]",children:[d(bt,{checked:!!e,onCheckedChange:s=>t(s)}),d("span",{children:b("enable_cache_optimization")})]})})]})})},Qi=u.forwardRef((e,t)=>_("svg",{...e,ref:t,width:"18",height:"21",viewBox:"0 0 18 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d("path",{d:"M7.58605 1.2209L2.94419 3.00713C1.87442 3.41568 1 4.70784 1 5.86698V12.9264C1 14.0475 1.72558 15.5202 2.6093 16.1948L6.6093 19.2447C7.92093 20.2518 10.0791 20.2518 11.3907 19.2447L15.3907 16.1948C16.2744 15.5202 17 14.0475 17 12.9264V5.86698C17 4.69834 16.1256 3.40618 15.0558 2.99762L10.414 1.2209C9.62326 0.926366 8.35814 0.926366 7.58605 1.2209Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{d:"M6.24652 10.8864L7.7442 12.3356L11.7442 8.46509",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})),Xi=u.forwardRef((e,t)=>_("svg",{...e,ref:t,width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7381 6.28381L18.1082 5.21619C17.5753 4.31282 16.3944 4.00118 15.4682 4.51952V4.51952C15.0274 4.77319 14.5013 4.84516 14.0061 4.71956C13.5109 4.59396 13.0871 4.28111 12.8283 3.85C12.6618 3.57598 12.5723 3.26387 12.5689 2.94524V2.94524C12.584 2.43439 12.3866 1.93935 12.0219 1.5729C11.6572 1.20645 11.1562 0.99979 10.633 1H9.36394C8.85134 0.999994 8.35987 1.19951 7.99828 1.55439C7.63668 1.90928 7.43478 2.39027 7.43725 2.89095V2.89095C7.42205 3.92468 6.55973 4.75487 5.50129 4.75476C5.17507 4.75145 4.85553 4.66406 4.57499 4.50143V4.50143C3.64885 3.98309 2.46792 4.29473 1.93504 5.1981L1.25885 6.28381C0.726609 7.18605 1.04132 8.33879 1.96283 8.86238V8.86238C2.56183 9.20017 2.93082 9.82442 2.93082 10.5C2.93082 11.1756 2.56183 11.7998 1.96283 12.1376V12.1376C1.0425 12.6577 0.727436 13.8076 1.25885 14.7071V14.7071L1.89799 15.7838C2.14767 16.2239 2.56658 16.5486 3.06204 16.6861C3.55749 16.8237 4.08864 16.7627 4.53794 16.5167V16.5167C4.97962 16.2649 5.50596 16.196 5.99996 16.3251C6.49396 16.4542 6.91469 16.7707 7.16862 17.2043C7.33512 17.4783 7.42459 17.7904 7.42798 18.109V18.109C7.42798 19.1534 8.29474 20 9.36394 20H10.633C11.6986 20 12.5638 19.1589 12.5689 18.1181V18.1181C12.5665 17.6158 12.7696 17.1335 13.1332 16.7783C13.4968 16.4232 13.9907 16.2247 14.5049 16.2271C14.8303 16.2357 15.1485 16.3227 15.4312 16.4805V16.4805C16.3549 17.0003 17.5351 16.6929 18.0711 15.7929V15.7929L18.7381 14.7071C18.9962 14.2743 19.0671 13.7589 18.9349 13.2749C18.8028 12.7909 18.4786 12.3784 18.0341 12.1286V12.1286C17.5896 11.8788 17.2654 11.4662 17.1332 10.9822C17.0011 10.4983 17.0719 9.9828 17.3301 9.55C17.498 9.26372 17.741 9.02635 18.0341 8.86238V8.86238C18.9501 8.33908 19.264 7.19307 18.7381 6.29286V6.29286V6.28381Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d("ellipse",{cx:"10.003",cy:"10.5",rx:"2.66773",ry:"2.60571",fill:"currentColor"})]})),Yi=u.forwardRef((e,t)=>_("svg",{...e,ref:t,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d("path",{d:"M7.03899 10.648H8.60499V14.293C8.60499 14.833 9.27099 15.085 9.63099 14.68L13.465 10.324C13.798 9.946 13.528 9.352 13.024 9.352H11.458V5.707C11.458 5.167 10.792 4.915 10.432 5.32L6.59799 9.676C6.26499 10.054 6.53499 10.648 7.03899 10.648Z",fill:"currentColor"}),d("path",{d:"M10 19C14.9706 19 19 14.9706 19 10C19 5.02944 14.9706 1 10 1C5.02944 1 1 5.02944 1 10C1 14.9706 5.02944 19 10 19Z",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]})),el=u.forwardRef((e,t)=>_("svg",{...e,ref:t,width:"20",height:"19",viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d("path",{d:"M3 4.21429L6 1L9 4.21429",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{d:"M5.99963 1V11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{d:"M16 7.78571L13 11L10 7.78571",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{d:"M13.0004 11L13.0004 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{d:"M1 16C6.835 18 13.165 18 19 16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})),tl=u.forwardRef((e,t)=>_("svg",{...e,ref:t,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d("path",{d:"M11 1H4C3.46957 1 2.96086 1.21071 2.58579 1.58579C2.21071 1.96086 2 2.46957 2 3V17C2 17.5304 2.21071 18.0391 2.58579 18.4142C2.96086 18.7893 3.46957 19 4 19H16C16.5304 19 17.0391 18.7893 17.4142 18.4142C17.7893 18.0391 18 17.5304 18 17V7L11 1Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{d:"M11 1V7H18",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{d:"M14 11H6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{d:"M14 15H6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})),{is_fbdl_activated:nl}=window.fbv_admin,va=[{hash:"/",icon:Qi,label:b("activation")},{hash:"settings",icon:Xi,label:b("settings")},{hash:"tools",icon:el,label:b("tools")},{hash:"import-export",icon:Yi,label:b("import_export")}];nl&&va.push({hash:"document-library",icon:tl,label:b("document_library")});const rl=()=>d("aside",{className:"fb-fixed fb-border-solid fb-border-0 fb-bottom-0 fb-left-0 fb-z-50 fb-w-full fb-h-16 fb-bg-white fb-border-gray-200 wp-md:fb-static wp-md:fb-max-w-64 wp-md:fb-h-auto wp-md:fb-pt-4 wp-md:fb-border-r wp-md:fb-border-[rgba(177,187,202,0.15)]","aria-label":"Sidebar",children:d("div",{className:"fb-overflow-y-auto fb-bg-white fb-h-full fb-shadow-[0px_-5px_20px_20px_rgba(0,0,0,0.031372549)] wp-md:fb-shadow-none wp-md:fb-h-auto",children:d("ul",{className:"fb-grid fb-m-0 fb-h-full fb-grid-cols-4 fb-mx-auto fb-font-medium wp-md:fb-block",children:va.map(e=>d("li",{className:"fb-m-0 fb-flex wp-md:fb-mb-1",children:_(Ei,{to:e.hash,className:({isActive:t})=>Sn("fb-transition-shadow fb-duration-150 fb-ease-linear fb-inline-flex fb-flex-1 fb-outline-none fb-no-underline fb-text-teal-950 fb-flex-col fb-items-center fb-justify-center hover:fb-bg-gray-50 fb-group focus:fb-shadow-admin-mobile-menu focus:fb-bg-admin-light focus:fb-text-admin-primary wp-md:fb-flex-row wp-md:fb-justify-start wp-md:fb-py-3 wp-md:fb-px-5 wp-md:focus:fb-shadow-admin-menu",{"fb-shadow-admin-mobile-menu fb-bg-admin-light fb-text-admin-primary wp-md:fb-shadow-admin-menu":t}),children:[d(e.icon,{className:"fb-flex-shrink-0 fb-mb-2 fb-w-5 fb-h-5 fb-transition fb-duration-75 group-hover:fb-text-admin-primary wp-md:fb-mr-3 wp-md:fb-mb-0"}),d("span",{className:"fb-text-xs group-hover:fb-text-blue-600 wp-md:fb-text-base",children:e.label})]})},e.hash))})})}),al=()=>{const e=ct();return u.useEffect(()=>{let t=e.pathname;e.pathname==="/"&&(t="/activation"),jQuery(".filebird-admin-menu-item").removeClass("selected"),jQuery(`.filebird-admin-menu-item:has(a[href*="${t}"])`).addClass("selected")},[e.pathname]),_(Be,{children:[d("div",{className:"wp-md:fb-max-w-[1060px] fb-m-auto",children:_("div",{className:"fb-flex fb-bg-white fb-rounded-xl wp-md:fb-min-h-[675px] fb-overflow-hidden",children:[d(rl,{}),d(pi,{})]})}),d(to,{containerStyle:{top:40}})]})},ol=()=>d("h3",{children:" There is not available"}),{enabled_post_types:il}=window.fbv_admin,Hr=no(ro(e=>({postTypes:{enabledSlugs:il},setEnabledPostTypes:t=>e(n=>{n.postTypes.enabledSlugs=t})}))),{post_types:ya}=window.fbv_admin,ll=Object.keys(ya),sl=u.forwardRef((e,t)=>{const n=Hr(i=>i.postTypes.enabledSlugs),a=Hr(i=>i.setEnabledPostTypes);u.useImperativeHandle(t,()=>({onSave:r}),[n]);const r=async()=>await Rn.updateSetting({action:"fbv_save_post_type_settings",post_types:n}),o=i=>{const{value:s}=i.target,l=n.indexOf(s),c=[...n];l===-1?c.push(s):c.splice(l,1),a(c)};return d("div",{className:"fb-flex fb-flex-col fb-gap-3",children:ll.map(i=>_("div",{className:"fb-gap-3 fb-flex fb-items-center",children:[d("input",{className:"fb-m-0 fb-relative fb-border-admin-secondary fb-shadow-none checked:before:fb-content-checked-box checked:before:fb-w-3 checked:before:fb-h-2 checked:before:fb-float-none checked:before:fb-absolute checked:before:fb-transform-checked-box checked:before:fb-inset-0 checked:before:fb-m-auto checked:fb-border-admin-primary",defaultChecked:n.indexOf(i)!==-1,type:"checkbox",value:i,id:i,onChange:o}),d("label",{htmlFor:i,children:ya[i]})]},i))})}),{asset_url:Cn,license:cl}=window.fbv_data,dl={default:{img:`${Cn}img/default.svg`,title:b("default"),needActive:!1},windows:{img:`${Cn}img/windows.svg`,title:"Windows",needActive:!0},dropbox:{img:`${Cn}img/dropbox.svg`,title:"Dropbox",needActive:!0}},ul=xt.div`fb-flex fb-gap-[10px] fb-w-full`,Wr=An.img`hover:fb-border-admin-primary fb-flex-grow fb-flex-shrink-0 fb-basis-0 fb-p-[10px] fb-rounded fb-border fb-border-[#E1E9F4] fb-border-solid fb-duration-200 fb-transition-colors fb-ease-in-out fb-border-2`,fl=()=>{const e=Lt(c=>c.settings),t=Lt(c=>c.setSettings),n=Lt(c=>c.updateSetting),[a,r]=u.useState(!1),[o,i]=u.useState(!1),s=u.useRef(null);return d(Be,{children:_(jt,{footer:d(Se,{disabled:a,className:a?"updating-message":"",onClick:async()=>{r(!0);try{await n(e),await s.current.onSave()}catch(c){J.error(b("set_setting_fail")),console.log({error:c})}finally{r(!1)}},children:b("save_changes")}),children:[d("h3",{className:"fb-mt-0 fb-p-0",children:b("general")}),_("div",{className:"fb-flex fb-flex-col fb-gap-[10px]",children:[_("div",{className:"fb-flex fb-gap-[10px]",children:[d(bt,{checked:!!e.user_mode,onCheckedChange:c=>t("user_mode",c)}),_("span",{children:[b("each_user_has_own_folder"),"?"]})]}),_("div",{className:"fb-flex fb-gap-[10px]",children:[d(bt,{checked:!!e.show_breadcrumb,onCheckedChange:c=>t("show_breadcrumb",c)}),d("span",{children:b("show_breadcrumb")})]}),_("div",{className:"fb-flex fb-gap-[10px]",children:[d(bt,{checked:!!e.svg_support,onCheckedChange:c=>t("svg_support",c)}),d("span",{children:b("svg_upload_desc")})]}),_("div",{className:"fb-flex fb-gap-[10px] fb-items-center",children:[d(bt,{checked:!!e.searching_api,onCheckedChange:c=>t("searching_api",c)}),d("span",{children:b("enable_search_api")}),d(Ir,{sideOffset:5,content:b("searching_folder_api"),children:()=>d("svg",{className:"fb-w-4 fb-h-4 fb-cursor-pointer",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:d("path",{d:"M11,18H13V16H11V18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,6A4,4 0 0,0 8,10H10A2,2 0 0,1 12,8A2,2 0 0,1 14,10C14,12 11,11.75 11,15H13C13,12.75 16,12.5 16,10A4,4 0 0,0 12,6Z"})})})]})]}),d(je,{}),d("h3",{children:b("folder_counter")}),_("div",{className:"fb-flex fb-flex-col fb-gap-[10px]",children:[_("div",{className:"fb-flex fb-gap-[10px] fb-items-center",children:[d("input",{className:"fb-m-0 fb-shadow-none checked:before:fb-bg-admin-primary checked:before:fb-content-[''] fb-border-admin-secondary checked:fb-border-admin-primary",id:"counter_file_in_folder",checked:e.folder_counter_type=="counter_file_in_folder",type:"radio",name:"counter_type",onChange:()=>t("folder_counter_type","counter_file_in_folder")}),d("label",{htmlFor:"counter_file_in_folder",children:b("count_in_folder")})]}),_("div",{className:"fb-flex fb-gap-[10px] fb-items-center",children:[d("input",{className:"fb-m-0 fb-shadow-none checked:before:fb-bg-admin-primary checked:before:fb-content-[''] fb-border-admin-secondary checked:fb-border-admin-primary",id:"counter_file_in_folder_and_sub",checked:e.folder_counter_type=="counter_file_in_folder_and_sub",type:"radio",name:"counter_type",onChange:()=>t("folder_counter_type","counter_file_in_folder_and_sub")}),d("label",{htmlFor:"counter_file_in_folder_and_sub",children:b("count_nested")})]})]}),d(je,{}),d("h3",{children:b("select_theme")}),o&&d("div",{className:"fb-p-4 fb-mb-4 fb-text-sm fb-text-red-800 fb-rounded-lg fb-bg-red-50 ",role:"alert",children:d("span",{className:"fb-font-medium",children:b("active_to_use_feature")})}),d(ul,{children:Object.entries(dl).map(([c,h])=>d(u.Fragment,{children:h.needActive&&!cl.status?d(Ir,{sideOffset:5,content:b("active_to_update"),children:()=>_("div",{className:"fb-flex fb-flex-col fb-w-1/3 fb-cursor-pointer fb-choose-theme-btn",tabIndex:0,onClick:()=>Cr&&i(!0),onKeyDown:g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),Cr&&i(!0))},children:[d(Wr,{className:c===e.theme&&"fb-border-admin-primary",src:h.img,alt:h.title}),d("span",{className:"fb-mt-3",children:h.title})]},c)}):_("div",{className:"fb-flex fb-flex-col fb-w-1/3 fb-cursor-pointer fb-choose-theme-btn",tabIndex:0,onClick:()=>{t("theme",c),i(!1)},onKeyDown:g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),t("theme",c),i(!1))},children:[d(Wr,{className:c===e.theme&&"fb-border-primary",src:h.img,alt:h.title}),d("span",{className:"fb-mt-3",children:h.title})]},c)},c))}),d(je,{}),d("h3",{children:b("which_post_types_do_you_want")}),d(sl,{ref:s}),d(je,{})]})})},{fbv_data:Vt}=window,at={async exportCSV(e=""){const t=e==""?"/export-csv":"/export-csv/?id="+e;return ke("GET",t)},async importCSV(e){return jQuery.ajax({url:Vt.json_url+"/import-csv",beforeSend:()=>{},method:"POST",processData:!1,contentType:!1,cache:!1,data:e,headers:{"X-WP-Nonce":Vt.rest_nonce}})},async getCSVDetail(e){return jQuery.ajax({url:Vt.json_url+"/import-csv-detail",method:"POST",processData:!1,contentType:!1,beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",Vt.rest_nonce)},data:e})},async importPlugin(e){try{return await ke("GET",`/import/get-folders/${e}`),await ke("GET",`/import/get-attachments/${e}`),await ke("GET",`/import/run/${e}`)}catch(t){console.log({error:t})}},async getBackupFiles(){try{return await ke("GET","/get-backup-files")}catch(e){console.log({error:e})}},async downloadBackup(e){try{return await ke("POST","/download-backup",{id:e})}catch(t){console.log({error:t})}},async backupNow(){try{return await ke("POST","/backup-now")}catch(e){console.log({error:e})}}};function hl(e){const t=e.data;if(!t||!t.length)return;const n=e.columnDelimiter||",",a=e.lineDelimiter||`
`,r=Object.keys(t[0]);let o="";return o+=r.join(n),o+=a,t.forEach(i=>{let s=0;r.forEach(l=>{s>0&&(o+=n),o+=i[l],s++}),o+=a}),o}const ml=e=>{const t=hl({data:e.data}),n=new Blob([t],{type:"text/csv;charset=utf-8;"});if(!t)return;const a=e.filename||"export.csv",r=document.createElement("a");r.setAttribute("href",URL.createObjectURL(n)),r.setAttribute("download",a),r.click()};async function pl(e){const t=new FormData;if(!e.length)return Promise.reject("There is no file!");if(e.length){t.append("file",e[0]);const n=await at.getCSVDetail(t);let a={"":"","-1":b("all_folders"),0:b("common_folders")};return Object.entries(n).length&&(a={...a,...n}),a}return null}const bl=()=>{const[e,t]=u.useState(!1),[n,a]=u.useState(!1),[r,o]=u.useState(""),[i,s]=u.useState(!1),[l,c]=u.useState(null),[h,g]=u.useState([]),[x,I]=u.useState(""),[y,w]=u.useState(!1),[C,E]=u.useState(!1),S=u.useRef(new FormData),B=async()=>{t(!0);const P=document.querySelector("#filebird-export-btn").getAttribute("data-id");await J.promise(at.exportCSV(P),{loading:b("loading"),success:k=>(t(!1),k.folders.length?(f(k.folders),b("successfully_exported")):b("no_folders_export")),error:()=>b("please_try_again")})},f=(P,k="filebird.csv")=>{ml({filename:k,data:P})},M=async P=>{const k=P.target.files,ne=await pl(k);c(ne),k.length&&S.current.append("file",k[0])},H=P=>{const k=P.target.value;S.current.append("userId",k),o(k?k==="-1"?b("all_folders_description"):k==="0"?b("common_folders_description"):`${b("user_folders_description")} ${P.target.options[P.target.selectedIndex].text}.`:"")},W=async()=>{a(!0);try{const P=await at.importCSV(S.current);if(a(!1),P.success)s(!0),J.success(b("successfully_imported"));else{if(P.message){J.error(P.message);return}J.error(b("please_try_again"))}}catch{a(!1),J.error(b("please_try_again"))}},F=async P=>{P.preventDefault(),E(!0);try{const k=await at.backupNow();if(E(!1),k.success)g(k.data.concat(h)),J.success(b("successfully_backup"));else{if(k.message){J.error(k.message);return}J.error(b("please_try_again"))}}catch{E(!1),J.error(b("please_try_again"))}},L=async P=>{P.preventDefault(),w(!0),g([]);try{const k=await at.getBackupFiles();if(w(!1),k.success)g(k.data.backup_files),I("");else{if(k.message){J.error(k.message);return}J.error(b("please_try_again"))}}catch{w(!1),J.error(b("please_try_again"))}return!1},G=async P=>{try{I(P);const k=await at.downloadBackup(P);if(k.success)I(""),f(k.data.folders,k.data.filename);else{if(k.data.message){J.error(k.data.message);return}J.error(b("please_try_again"))}}catch{J.error(b("please_try_again"))}};return _(Be,{children:[d("h2",{children:b("folders_for_media_library")}),_("div",{className:"fb-flex fb-flex-col wp-md:fb-flex-row wp-md:fb-items-center fb-justify-between fb-mb-5 wp-md:fb-mb-9",children:[_("div",{className:"fb-mb-4 wp-md:fb-mb-0",children:[d("h4",{className:"fb-mt-0 fb-mb-4 fb-p-0",children:b("export_csv")}),_("p",{className:"description wp-md:fb-m-0",children:[b("export_csv_desc")," ",b("export_csv_post_types_desc")]})]}),d("div",{className:"fb-flex fb-flex-col fb-items-center",children:d(Se,{disabled:e,className:Ce("wp-md:fb-ml-0 fb-ml-auto",{"updating-message":e}),onClick:()=>B(),id:"filebird-export-btn","data-id":"",children:b("export_csv_now")})})]}),_("div",{className:"fb-flex fb-flex-col wp-md:fb-flex-row wp-md:fb-items-center fb-justify-between fb-mb-5 wp-md:fb-mb-9",children:[_("div",{className:"fb-mb-4 wp-md:fb-mb-0",children:[d("h4",{className:"fb-mt-0 fb-mb-4 fb-p-0",children:b("backup")}),_("p",{className:"description",children:[d("span",{className:"[&_a]:fb-text-admin-primary",dangerouslySetInnerHTML:{__html:b("autobackup_desc")}}),"",d("span",{children:d("a",{href:"#",onClick:L,children:b("view_backups")})})]})]}),d("div",{className:"fb-flex fb-flex-col fb-items-center",children:d(Se,{disabled:C,className:Ce("wp-md:fb-ml-0 fb-ml-auto",{"updating-message":C}),onClick:F,id:"filebird-backup-btn",children:b("backup_now")})})]}),_("div",{className:"fb-mb-5 wp-md:fb-mb-9",children:[y&&d("div",{className:"fb-flex fb-flex-col fb-gap-2",children:[...Array(3)].map((P,k)=>_("div",{className:"fb-flex fb-justify-between fb-items-center fb-mb-3 fb-p-2 fb-backup-item bg-gray-100 animate-pulse",children:[d("span",{className:"fb-w-1/2 fb-h-4 bg-gray-300 rounded"}),d("span",{className:"fb-w-1/4 fb-h-4 bg-gray-300 rounded"})]},k))}),h.length>0&&h.map((P,k)=>_("div",{className:Ce("fb-flex fb-justify-between fb-items-center fb-mb-3 fb-p-2 fb-backup-item",{"bg-gray-100":k%2===0,"bg-white":k%2!==0}),children:[d("span",{children:P.name}),d(Se,{$secondary:!0,onClick:()=>{G(P.id)},className:Ce("fb-m-0 fb-ml-auto wp-md:fb-ml-0",{"updating-message":x==P.id}),disabled:x==P.id,children:b("download")})]},P.id))]}),d("h4",{className:"fb-mt-0 fb-mb-4 fb-p-0",children:b("import_csv")}),d("div",{className:"flex-item-center",children:d("input",{className:"fb-max-w-80",type:"file",accept:".csv",name:"csv_file",onChange:M})}),l&&_("p",{className:Ce({hidden:!l}),children:[d("span",{children:b("choose_user_folder")}),"",d("select",{onChange:H,children:Object.entries(l).sort().map(([P,k])=>d("option",{value:P,children:k},P))}),"",d("button",{disabled:!r||n||i,className:Ce("button button-large",{hidden:!l,"updating-message":n}),type:"button",onClick:W,children:i?b("imported"):b("update_noti_btn")})]}),d("p",{children:r}),d("p",{className:"description",children:d("span",{className:"[&_a]:fb-text-admin-primary",dangerouslySetInnerHTML:{__html:b("import_csv_desc")}})})]})};var X={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vn=Symbol.for("react.element"),Hn=Symbol.for("react.portal"),nn=Symbol.for("react.fragment"),rn=Symbol.for("react.strict_mode"),an=Symbol.for("react.profiler"),on=Symbol.for("react.provider"),ln=Symbol.for("react.context"),gl=Symbol.for("react.server_context"),sn=Symbol.for("react.forward_ref"),cn=Symbol.for("react.suspense"),dn=Symbol.for("react.suspense_list"),un=Symbol.for("react.memo"),fn=Symbol.for("react.lazy"),vl=Symbol.for("react.offscreen"),wa;wa=Symbol.for("react.module.reference");function Ne(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Vn:switch(e=e.type,e){case nn:case an:case rn:case cn:case dn:return e;default:switch(e=e&&e.$$typeof,e){case gl:case ln:case sn:case fn:case un:case on:return e;default:return t}}case Hn:return t}}}X.ContextConsumer=ln;X.ContextProvider=on;X.Element=Vn;X.ForwardRef=sn;X.Fragment=nn;X.Lazy=fn;X.Memo=un;X.Portal=Hn;X.Profiler=an;X.StrictMode=rn;X.Suspense=cn;X.SuspenseList=dn;X.isAsyncMode=function(){return!1};X.isConcurrentMode=function(){return!1};X.isContextConsumer=function(e){return Ne(e)===ln};X.isContextProvider=function(e){return Ne(e)===on};X.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vn};X.isForwardRef=function(e){return Ne(e)===sn};X.isFragment=function(e){return Ne(e)===nn};X.isLazy=function(e){return Ne(e)===fn};X.isMemo=function(e){return Ne(e)===un};X.isPortal=function(e){return Ne(e)===Hn};X.isProfiler=function(e){return Ne(e)===an};X.isStrictMode=function(e){return Ne(e)===rn};X.isSuspense=function(e){return Ne(e)===cn};X.isSuspenseList=function(e){return Ne(e)===dn};X.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===nn||e===an||e===rn||e===cn||e===dn||e===vl||typeof e=="object"&&e!==null&&(e.$$typeof===fn||e.$$typeof===un||e.$$typeof===on||e.$$typeof===ln||e.$$typeof===sn||e.$$typeof===wa||e.getModuleId!==void 0)};X.typeOf=Ne;const zr=e=>typeof e=="object"&&e!=null&&e.nodeType===1,qr=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",_n=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return qr(n.overflowY,t)||qr(n.overflowX,t)||(a=>{const r=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(a);return!!r&&(r.clientHeight<a.scrollHeight||r.clientWidth<a.scrollWidth)})(e)}return!1},Ht=(e,t,n,a,r,o,i,s)=>o<e&&i>t||o>e&&i<t?0:o<=e&&s<=n||i>=t&&s>=n?o-e-a:i>t&&s<n||o<e&&s>n?i-t+r:0,yl=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},wl=(e,t)=>{var n,a,r,o;if(typeof document>"u")return[];const{scrollMode:i,block:s,inline:l,boundary:c,skipOverflowHiddenElements:h}=t,g=typeof c=="function"?c:ie=>ie!==c;if(!zr(e))throw new TypeError("Invalid target");const x=document.scrollingElement||document.documentElement,I=[];let y=e;for(;zr(y)&&g(y);){if(y=yl(y),y===x){I.push(y);break}y!=null&&y===document.body&&_n(y)&&!_n(document.documentElement)||y!=null&&_n(y,h)&&I.push(y)}const w=(a=(n=window.visualViewport)==null?void 0:n.width)!=null?a:innerWidth,C=(o=(r=window.visualViewport)==null?void 0:r.height)!=null?o:innerHeight,{scrollX:E,scrollY:S}=window,{height:B,width:f,top:M,right:H,bottom:W,left:F}=e.getBoundingClientRect(),{top:L,right:G,bottom:P,left:k}=(ie=>{const z=window.getComputedStyle(ie);return{top:parseFloat(z.scrollMarginTop)||0,right:parseFloat(z.scrollMarginRight)||0,bottom:parseFloat(z.scrollMarginBottom)||0,left:parseFloat(z.scrollMarginLeft)||0}})(e);let ne=s==="start"||s==="nearest"?M-L:s==="end"?W+P:M+B/2-L+P,oe=l==="center"?F+f/2-k+G:l==="end"?H+G:F-k;const ge=[];for(let ie=0;ie<I.length;ie++){const z=I[ie],{height:de,width:me,top:we,right:Te,bottom:$,left:O}=z.getBoundingClientRect();if(i==="if-needed"&&M>=0&&F>=0&&W<=C&&H<=w&&M>=we&&W<=$&&F>=O&&H<=Te)return ge;const R=getComputedStyle(z),U=parseInt(R.borderLeftWidth,10),re=parseInt(R.borderTopWidth,10),pe=parseInt(R.borderRightWidth,10),Y=parseInt(R.borderBottomWidth,10);let ue=0,se=0;const ve="offsetWidth"in z?z.offsetWidth-z.clientWidth-U-pe:0,xe="offsetHeight"in z?z.offsetHeight-z.clientHeight-re-Y:0,Ue="offsetWidth"in z?z.offsetWidth===0?0:me/z.offsetWidth:0,Re="offsetHeight"in z?z.offsetHeight===0?0:de/z.offsetHeight:0;if(x===z)ue=s==="start"?ne:s==="end"?ne-C:s==="nearest"?Ht(S,S+C,C,re,Y,S+ne,S+ne+B,B):ne-C/2,se=l==="start"?oe:l==="center"?oe-w/2:l==="end"?oe-w:Ht(E,E+w,w,U,pe,E+oe,E+oe+f,f),ue=Math.max(0,ue+S),se=Math.max(0,se+E);else{ue=s==="start"?ne-we-re:s==="end"?ne-$+Y+xe:s==="nearest"?Ht(we,$,de,re,Y+xe,ne,ne+B,B):ne-(we+de/2)+xe/2,se=l==="start"?oe-O-U:l==="center"?oe-(O+me/2)+ve/2:l==="end"?oe-Te+pe+ve:Ht(O,Te,me,U,pe+ve,oe,oe+f,f);const{scrollLeft:De,scrollTop:Ie}=z;ue=Re===0?0:Math.max(0,Math.min(Ie+ue/Re,z.scrollHeight-de/Re+xe)),se=Ue===0?0:Math.max(0,Math.min(De+se/Ue,z.scrollWidth-me/Ue+ve)),ne+=Ie-ue,oe+=De-se}ge.push({el:z,top:ue,left:se})}return ge};var xl=0;function hn(){}function Il(e,t){if(e){var n=wl(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});n.forEach(function(a){var r=a.el,o=a.top,i=a.left;r.scrollTop=o,r.scrollLeft=i})}}function Gr(e,t,n){var a=e===t||t instanceof n.Node&&e.contains&&e.contains(t);return a}function xa(e,t){var n;function a(){n&&clearTimeout(n)}function r(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];a(),n=setTimeout(function(){n=null,e.apply(void 0,i)},t)}return r.cancel=a,r}function _e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(a){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.some(function(s){return s&&s.apply(void 0,[a].concat(o)),a.preventDownshiftDefault||a.hasOwnProperty("nativeEvent")&&a.nativeEvent.preventDownshiftDefault})}}function gt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(a){t.forEach(function(r){typeof r=="function"?r(a):r&&(r.current=a)})}}function Cl(){return String(xl++)}function Zt(e,t){return!e||!t?e:Object.keys(e).reduce(function(n,a){return n[a]=Ia(t,a)?t[a]:e[a],n},{})}function Ia(e,t){return e[t]!==void 0}function Tn(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function Wt(e,t,n,a,r){r===void 0&&(r=!1);var o=n.length;if(o===0)return-1;var i=o-1;(typeof e!="number"||e<0||e>i)&&(e=t>0?-1:i+1);var s=e+t;s<0?s=r?i:0:s>i&&(s=r?0:i);var l=Qt(s,t<0,n,a,r);return l===-1?e>=o?-1:e:l}function Qt(e,t,n,a,r){r===void 0&&(r=!1);var o=n.length;if(t){for(var i=e;i>=0;i--)if(!a(n[i],i))return i}else for(var s=e;s<o;s++)if(!a(n[s],s))return s;return r?Qt(t?o-1:0,t,n,a):-1}function Jr(e,t,n,a){return a===void 0&&(a=!0),n&&t.some(function(r){return r&&(Gr(r,e,n)||a&&Gr(r,n.document.activeElement,n))})}var _l=xa(function(e){Ca(e).textContent=""},500);function Ca(e){var t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function kl(e,t){if(!(!e||!t)){var n=Ca(t);n.textContent=e,_l(t)}}function Sl(e){var t=e==null?void 0:e.getElementById("a11y-status-message");t&&t.remove()}var _a={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function Rl(e,t,n){var a=e.props,r=e.type,o={};Object.keys(t).forEach(function(i){Dl(i,e,t,n),n[i]!==t[i]&&(o[i]=n[i])}),a.onStateChange&&Object.keys(o).length&&a.onStateChange(te({type:r},o))}function Dl(e,t,n,a){var r=t.props,o=t.type,i="on"+Wn(e)+"Change";r[i]&&a[e]!==void 0&&a[e]!==n[e]&&r[i](te({type:o},a))}function El(e,t){return t.changes}var Zr=xa(function(e,t){kl(e,t)},200),Ml=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?u.useLayoutEffect:u.useEffect,Ll="useId"in Ot?function(t){var n=t.id,a=t.labelId,r=t.menuId,o=t.getItemId,i=t.toggleButtonId,s=t.inputId,l="downshift-"+Ot.useId();n||(n=l);var c=u.useRef({labelId:a||n+"-label",menuId:r||n+"-menu",getItemId:o||function(h){return n+"-item-"+h},toggleButtonId:i||n+"-toggle-button",inputId:s||n+"-input"});return c.current}:function(t){var n=t.id,a=n===void 0?"downshift-"+Cl():n,r=t.labelId,o=t.menuId,i=t.getItemId,s=t.toggleButtonId,l=t.inputId,c=u.useRef({labelId:r||a+"-label",menuId:o||a+"-menu",getItemId:i||function(h){return a+"-item-"+h},toggleButtonId:s||a+"-toggle-button",inputId:l||a+"-input"});return c.current};function ka(e,t,n,a){var r,o;if(e===void 0){if(t===void 0)throw new Error(a);r=n[t],o=t}else o=t===void 0?n.indexOf(e):t,r=e;return[r,o]}function Wn(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function zn(e){var t=u.useRef(e);return t.current=e,t}function Sa(e,t,n,a){var r=u.useRef(),o=u.useRef(),i=u.useCallback(function(I,y){o.current=y,I=Zt(I,y.props);var w=e(I,y),C=y.props.stateReducer(I,te({},y,{changes:w}));return C},[e]),s=u.useReducer(i,t,n),l=s[0],c=s[1],h=zn(t),g=u.useCallback(function(I){return c(te({props:h.current},I))},[h]),x=o.current;return u.useEffect(function(){var I=Zt(r.current,x==null?void 0:x.props),y=x&&r.current&&!a(I,l);y&&Rl(x,I,l),r.current=l},[l,x,a]),[l,g]}function Pl(e,t,n,a){var r=Sa(e,t,n,a),o=r[0],i=r[1];return[Zt(o,t),i]}var Nt={itemToString:function(t){return t?String(t):""},itemToKey:function(t){return t},stateReducer:El,scrollIntoView:Il,environment:typeof window>"u"?void 0:window};function Ze(e,t,n){n===void 0&&(n=_a);var a=e["default"+Wn(t)];return a!==void 0?a:n[t]}function yt(e,t,n){n===void 0&&(n=_a);var a=e[t];if(a!==void 0)return a;var r=e["initial"+Wn(t)];return r!==void 0?r:Ze(e,t,n)}function Nl(e){var t=yt(e,"selectedItem"),n=yt(e,"isOpen"),a=Fl(e),r=yt(e,"inputValue");return{highlightedIndex:a<0&&t&&n?e.items.findIndex(function(o){return e.itemToKey(o)===e.itemToKey(t)}):a,isOpen:n,selectedItem:t,inputValue:r}}function Tt(e,t,n){var a=e.items,r=e.initialHighlightedIndex,o=e.defaultHighlightedIndex,i=e.isItemDisabled,s=e.itemToKey,l=t.selectedItem,c=t.highlightedIndex;return a.length===0?-1:r!==void 0&&c===r&&!i(a[r],r)?r:o!==void 0&&!i(a[o],o)?o:l?a.findIndex(function(h){return s(l)===s(h)}):n<0&&!i(a[a.length-1],a.length-1)?a.length-1:n>0&&!i(a[0],0)?0:-1}function Tl(e,t,n){var a=u.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return u.useEffect(function(){if(!e)return hn;var r=t.map(function(h){return h.current});function o(){a.current.isTouchEnd=!1,a.current.isMouseDown=!0}function i(h){a.current.isMouseDown=!1,Jr(h.target,r,e)||n()}function s(){a.current.isTouchEnd=!1,a.current.isTouchMove=!1}function l(){a.current.isTouchMove=!0}function c(h){a.current.isTouchEnd=!0,!a.current.isTouchMove&&!Jr(h.target,r,e,!1)&&n()}return e.addEventListener("mousedown",o),e.addEventListener("mouseup",i),e.addEventListener("touchstart",s),e.addEventListener("touchmove",l),e.addEventListener("touchend",c),function(){e.removeEventListener("mousedown",o),e.removeEventListener("mouseup",i),e.removeEventListener("touchstart",s),e.removeEventListener("touchmove",l),e.removeEventListener("touchend",c)}},[e,n]),a.current}var Ra=function(){return hn};function Da(e,t,n,a){a===void 0&&(a={});var r=a.document,o=mn();u.useEffect(function(){if(!(!e||o||!r)){var i=e(t);Zr(i,r)}},n),u.useEffect(function(){return function(){Zr.cancel(),Sl(r)}},[r])}function Ol(e){var t=e.highlightedIndex,n=e.isOpen,a=e.itemRefs,r=e.getItemNodeFromIndex,o=e.menuElement,i=e.scrollIntoView,s=u.useRef(!0);return Ml(function(){t<0||!n||!Object.keys(a.current).length||(s.current===!1?s.current=!0:i(r(t),o))},[t]),s}function Qr(e,t,n){var a;n===void 0&&(n=!0);var r=((a=e.items)==null?void 0:a.length)&&t>=0;return te({isOpen:!1,highlightedIndex:-1},r&&te({selectedItem:e.items[t],isOpen:Ze(e,"isOpen"),highlightedIndex:Ze(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}function Al(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function mn(){var e=Ot.useRef(!0);return Ot.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}function On(e){var t=Ze(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}function Fl(e){var t=yt(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}var qt={environment:T.shape({addEventListener:T.func.isRequired,removeEventListener:T.func.isRequired,document:T.shape({createElement:T.func.isRequired,getElementById:T.func.isRequired,activeElement:T.any.isRequired,body:T.any.isRequired}).isRequired,Node:T.func.isRequired}),itemToString:T.func,itemToKey:T.func,stateReducer:T.func},Ea=te({},qt,{getA11yStatusMessage:T.func,highlightedIndex:T.number,defaultHighlightedIndex:T.number,initialHighlightedIndex:T.number,isOpen:T.bool,defaultIsOpen:T.bool,initialIsOpen:T.bool,selectedItem:T.any,initialSelectedItem:T.any,defaultSelectedItem:T.any,id:T.string,labelId:T.string,menuId:T.string,getItemId:T.func,toggleButtonId:T.string,onSelectedItemChange:T.func,onHighlightedIndexChange:T.func,onStateChange:T.func,onIsOpenChange:T.func,scrollIntoView:T.func});function $l(e,t,n){var a=t.type,r=t.props,o;switch(a){case n.ItemMouseMove:o={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:o={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:o={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:Tt(r,e,0)};break;case n.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:Tt(r,e,0)};break;case n.FunctionCloseMenu:o={isOpen:!1};break;case n.FunctionSetHighlightedIndex:o={highlightedIndex:r.isItemDisabled(r.items[t.highlightedIndex],t.highlightedIndex)?-1:t.highlightedIndex};break;case n.FunctionSetInputValue:o={inputValue:t.inputValue};break;case n.FunctionReset:o={highlightedIndex:On(r),isOpen:Ze(r,"isOpen"),selectedItem:Ze(r,"selectedItem"),inputValue:Ze(r,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return te({},e,o)}Gt(Gt({},Ea),{items:T.array.isRequired,isItemDisabled:T.func});Gt(Gt({},Nt),{isItemDisabled:function(){return!1}});var qn=0,Gn=1,Jn=2,Zn=3,Qn=4,Xn=5,Yn=6,er=7,tr=8,Xt=9,nr=10,Ma=11,La=12,rr=13,Pa=14,Na=15,Ta=16,Oa=17,Aa=18,ar=19,Fa=20,$a=21,or=22,ja=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:or,FunctionCloseMenu:Oa,FunctionOpenMenu:Ta,FunctionReset:$a,FunctionSelectItem:ar,FunctionSetHighlightedIndex:Aa,FunctionSetInputValue:Fa,FunctionToggleMenu:Na,InputBlur:Xt,InputChange:tr,InputClick:nr,InputKeyDownArrowDown:qn,InputKeyDownArrowUp:Gn,InputKeyDownEnd:Qn,InputKeyDownEnter:er,InputKeyDownEscape:Jn,InputKeyDownHome:Zn,InputKeyDownPageDown:Yn,InputKeyDownPageUp:Xn,ItemClick:rr,ItemMouseMove:La,MenuMouseLeave:Ma,ToggleButtonClick:Pa});function jl(e){var t=Nl(e),n=t.selectedItem,a=t.inputValue;return a===""&&n&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(a=e.itemToString(n)),te({},t,{inputValue:a})}te({},Ea,{items:T.array.isRequired,isItemDisabled:T.func,inputValue:T.string,defaultInputValue:T.string,initialInputValue:T.string,inputId:T.string,onInputValueChange:T.func});function Bl(e,t,n,a){var r=u.useRef(),o=Sa(e,t,n,a),i=o[0],s=o[1],l=mn();return u.useEffect(function(){if(Ia(t,"selectedItem")){if(!l){var c=t.itemToKey(t.selectedItem)!==t.itemToKey(r.current);c&&s({type:or,inputValue:t.itemToString(t.selectedItem)})}r.current=i.selectedItem===r.current?t.selectedItem:i.selectedItem}},[i.selectedItem,t.selectedItem]),[Zt(i,t),s]}var Kl=hn,Ul=te({},Nt,{isItemDisabled:function(){return!1}});function Vl(e,t){var n,a=t.type,r=t.props,o=t.altKey,i;switch(a){case rr:i={isOpen:Ze(r,"isOpen"),highlightedIndex:On(r),selectedItem:r.items[t.index],inputValue:r.itemToString(r.items[t.index])};break;case qn:e.isOpen?i={highlightedIndex:Wt(e.highlightedIndex,1,r.items,r.isItemDisabled,!0)}:i={highlightedIndex:o&&e.selectedItem==null?-1:Tt(r,e,1),isOpen:r.items.length>=0};break;case Gn:e.isOpen?o?i=Qr(r,e.highlightedIndex):i={highlightedIndex:Wt(e.highlightedIndex,-1,r.items,r.isItemDisabled,!0)}:i={highlightedIndex:Tt(r,e,-1),isOpen:r.items.length>=0};break;case er:i=Qr(r,e.highlightedIndex);break;case Jn:i=te({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case Xn:i={highlightedIndex:Wt(e.highlightedIndex,-10,r.items,r.isItemDisabled,!0)};break;case Yn:i={highlightedIndex:Wt(e.highlightedIndex,10,r.items,r.isItemDisabled,!0)};break;case Zn:i={highlightedIndex:Qt(0,!1,r.items,r.isItemDisabled)};break;case Qn:i={highlightedIndex:Qt(r.items.length-1,!0,r.items,r.isItemDisabled)};break;case Xt:i=te({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((n=r.items)==null?void 0:n.length)&&t.selectItem&&{selectedItem:r.items[e.highlightedIndex],inputValue:r.itemToString(r.items[e.highlightedIndex])});break;case tr:i={isOpen:!0,highlightedIndex:On(r),inputValue:t.inputValue};break;case nr:i={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:Tt(r,e,0)};break;case ar:i={selectedItem:t.selectedItem,inputValue:r.itemToString(t.selectedItem)};break;case or:i={inputValue:t.inputValue};break;default:return $l(e,t,ja)}return te({},e,i)}var Hl=["onMouseLeave","refKey","ref"],Wl=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],zl=["onClick","onPress","refKey","ref"],ql=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];et.stateChangeTypes=ja;function et(e){e===void 0&&(e={}),Kl();var t=te({},Ul,e),n=t.items,a=t.scrollIntoView,r=t.environment,o=t.getA11yStatusMessage,i=Bl(Vl,t,jl,Al),s=i[0],l=i[1],c=s.isOpen,h=s.highlightedIndex,g=s.selectedItem,x=s.inputValue,I=u.useRef(null),y=u.useRef({}),w=u.useRef(null),C=u.useRef(null),E=mn(),S=Ll(t),B=u.useRef(),f=zn({state:s,props:t}),M=u.useCallback(function($){return y.current[S.getItemId($)]},[S]);Da(o,s,[c,h,g,x],r);var H=Ol({menuElement:I.current,highlightedIndex:h,isOpen:c,itemRefs:y,scrollIntoView:a,getItemNodeFromIndex:M});u.useEffect(function(){var $=yt(t,"isOpen");$&&w.current&&w.current.focus()},[]),u.useEffect(function(){E||(B.current=n.length)});var W=Tl(r,[C,I,w],u.useCallback(function(){f.current.state.isOpen&&l({type:Xt,selectItem:!1})},[l,f])),F=Ra();u.useEffect(function(){c||(y.current={})},[c]),u.useEffect(function(){var $;!c||!(r!=null&&r.document)||!(w!=null&&($=w.current)!=null&&$.focus)||r.document.activeElement!==w.current&&w.current.focus()},[c,r]);var L=u.useMemo(function(){return{ArrowDown:function(O){O.preventDefault(),l({type:qn,altKey:O.altKey})},ArrowUp:function(O){O.preventDefault(),l({type:Gn,altKey:O.altKey})},Home:function(O){f.current.state.isOpen&&(O.preventDefault(),l({type:Zn}))},End:function(O){f.current.state.isOpen&&(O.preventDefault(),l({type:Qn}))},Escape:function(O){var R=f.current.state;(R.isOpen||R.inputValue||R.selectedItem||R.highlightedIndex>-1)&&(O.preventDefault(),l({type:Jn}))},Enter:function(O){var R=f.current.state;!R.isOpen||O.which===229||(O.preventDefault(),l({type:er}))},PageUp:function(O){f.current.state.isOpen&&(O.preventDefault(),l({type:Xn}))},PageDown:function(O){f.current.state.isOpen&&(O.preventDefault(),l({type:Yn}))}}},[l,f]),G=u.useCallback(function($){return te({id:S.labelId,htmlFor:S.inputId},$)},[S]),P=u.useCallback(function($,O){var R,U=$===void 0?{}:$,re=U.onMouseLeave,pe=U.refKey,Y=pe===void 0?"ref":pe,ue=U.ref,se=ht(U,Hl),ve=O===void 0?{}:O;return ve.suppressRefError,te((R={},R[Y]=gt(ue,function(xe){I.current=xe}),R.id=S.menuId,R.role="listbox",R["aria-labelledby"]=se&&se["aria-label"]?void 0:""+S.labelId,R.onMouseLeave=_e(re,function(){l({type:Ma})}),R),se)},[l,F,S]),k=u.useCallback(function($){var O,R,U=$===void 0?{}:$,re=U.item,pe=U.index,Y=U.refKey,ue=Y===void 0?"ref":Y,se=U.ref,ve=U.onMouseMove,xe=U.onMouseDown,Ue=U.onClick;U.onPress;var Re=U.disabled,De=ht(U,Wl);Re!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var Ie=f.current,Qe=Ie.props,Ve=Ie.state,Xe=ka(re,pe,Qe.items,"Pass either item or index to getItemProps!"),Ee=Xe[0],Me=Xe[1],He=Qe.isItemDisabled(Ee,Me),Oe="onClick",We=Ue,Ae=function(){W.isTouchEnd||Me===Ve.highlightedIndex||(H.current=!1,l({type:La,index:Me,disabled:He}))},Le=function(){l({type:rr,index:Me})},Bt=function(pn){return pn.preventDefault()};return te((O={},O[ue]=gt(se,function(ze){ze&&(y.current[S.getItemId(Me)]=ze)}),O["aria-disabled"]=He,O["aria-selected"]=Me===Ve.highlightedIndex,O.id=S.getItemId(Me),O.role="option",O),!He&&(R={},R[Oe]=_e(We,Le),R),{onMouseMove:_e(ve,Ae),onMouseDown:_e(xe,Bt)},De)},[l,S,f,W,H]),ne=u.useCallback(function($){var O,R=$===void 0?{}:$,U=R.onClick;R.onPress;var re=R.refKey,pe=re===void 0?"ref":re,Y=R.ref,ue=ht(R,zl),se=f.current.state,ve=function(){l({type:Pa})};return te((O={},O[pe]=gt(Y,function(xe){C.current=xe}),O["aria-controls"]=S.menuId,O["aria-expanded"]=se.isOpen,O.id=S.toggleButtonId,O.tabIndex=-1,O),!ue.disabled&&te({},{onClick:_e(U,ve)}),ue)},[l,f,S]),oe=u.useCallback(function($,O){var R,U=$===void 0?{}:$,re=U.onKeyDown,pe=U.onChange,Y=U.onInput,ue=U.onBlur;U.onChangeText;var se=U.onClick,ve=U.refKey,xe=ve===void 0?"ref":ve,Ue=U.ref,Re=ht(U,ql),De=O===void 0?{}:O;De.suppressRefError;var Ie=f.current.state,Qe=function(Ae){var Le=Tn(Ae);Le&&L[Le]&&L[Le](Ae)},Ve=function(Ae){l({type:tr,inputValue:Ae.target.value})},Xe=function(Ae){if(r!=null&&r.document&&Ie.isOpen&&!W.isMouseDown){var Le=Ae.relatedTarget===null&&r.document.activeElement!==r.document.body;l({type:Xt,selectItem:!Le})}},Ee=function(){l({type:nr})},Me="onChange",He={};if(!Re.disabled){var Oe;He=(Oe={},Oe[Me]=_e(pe,Y,Ve),Oe.onKeyDown=_e(re,Qe),Oe.onBlur=_e(ue,Xe),Oe.onClick=_e(se,Ee),Oe)}return te((R={},R[xe]=gt(Ue,function(We){w.current=We}),R["aria-activedescendant"]=Ie.isOpen&&Ie.highlightedIndex>-1?S.getItemId(Ie.highlightedIndex):"",R["aria-autocomplete"]="list",R["aria-controls"]=S.menuId,R["aria-expanded"]=Ie.isOpen,R["aria-labelledby"]=Re&&Re["aria-label"]?void 0:S.labelId,R.autoComplete="off",R.id=S.inputId,R.role="combobox",R.value=Ie.inputValue,R),He,Re)},[l,S,r,L,f,W,F]),ge=u.useCallback(function(){l({type:Na})},[l]),ie=u.useCallback(function(){l({type:Oa})},[l]),z=u.useCallback(function(){l({type:Ta})},[l]),de=u.useCallback(function($){l({type:Aa,highlightedIndex:$})},[l]),me=u.useCallback(function($){l({type:ar,selectedItem:$})},[l]),we=u.useCallback(function($){l({type:Fa,inputValue:$})},[l]),Te=u.useCallback(function(){l({type:$a})},[l]);return{getItemProps:k,getLabelProps:G,getMenuProps:P,getInputProps:oe,getToggleButtonProps:ne,toggleMenu:ge,openMenu:z,closeMenu:ie,setHighlightedIndex:de,setInputValue:we,selectItem:me,reset:Te,highlightedIndex:h,isOpen:c,selectedItem:g,inputValue:x}}var Ba={activeIndex:-1,selectedItems:[]};function Xr(e,t){return yt(e,t,Ba)}function Yr(e,t){return Ze(e,t,Ba)}function Gl(e){var t=Xr(e,"activeIndex"),n=Xr(e,"selectedItems");return{activeIndex:t,selectedItems:n}}function ea(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;var t=e.target;return!(t instanceof HTMLInputElement&&t.value!==""&&(t.selectionStart!==0||t.selectionEnd!==0))}function Jl(e,t){return e.selectedItems===t.selectedItems&&e.activeIndex===t.activeIndex}qt.stateReducer,qt.itemToKey,qt.environment,T.array,T.array,T.array,T.func,T.number,T.number,T.number,T.func,T.func,T.string,T.string;var Zl={itemToKey:Nt.itemToKey,stateReducer:Nt.stateReducer,environment:Nt.environment,keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},Ql=hn,ir=0,lr=1,sr=2,cr=3,dr=4,ur=5,fr=6,hr=7,mr=8,pr=9,br=10,gr=11,vr=12,Xl=Object.freeze({__proto__:null,DropdownClick:hr,DropdownKeyDownBackspace:fr,DropdownKeyDownNavigationPrevious:ur,FunctionAddSelectedItem:mr,FunctionRemoveSelectedItem:pr,FunctionReset:vr,FunctionSetActiveIndex:gr,FunctionSetSelectedItems:br,SelectedItemClick:ir,SelectedItemKeyDownBackspace:sr,SelectedItemKeyDownDelete:lr,SelectedItemKeyDownNavigationNext:cr,SelectedItemKeyDownNavigationPrevious:dr});function Yl(e,t){var n=t.type,a=t.index,r=t.props,o=t.selectedItem,i=e.activeIndex,s=e.selectedItems,l;switch(n){case ir:l={activeIndex:a};break;case dr:l={activeIndex:i-1<0?0:i-1};break;case cr:l={activeIndex:i+1>=s.length?-1:i+1};break;case sr:case lr:{if(i<0)break;var c=i;s.length===1?c=-1:i===s.length-1&&(c=s.length-2),l=te({selectedItems:[].concat(s.slice(0,i),s.slice(i+1))},{activeIndex:c});break}case ur:l={activeIndex:s.length-1};break;case fr:l={selectedItems:s.slice(0,s.length-1)};break;case mr:l={selectedItems:[].concat(s,[o])};break;case hr:l={activeIndex:-1};break;case pr:{var h=i,g=s.findIndex(function(y){return r.itemToKey(y)===r.itemToKey(o)});if(g<0)break;s.length===1?h=-1:g===s.length-1&&(h=s.length-2),l={selectedItems:[].concat(s.slice(0,g),s.slice(g+1)),activeIndex:h};break}case br:{var x=t.selectedItems;l={selectedItems:x};break}case gr:{var I=t.activeIndex;l={activeIndex:I};break}case vr:l={activeIndex:Yr(r,"activeIndex"),selectedItems:Yr(r,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return te({},e,l)}var es=["refKey","ref","onClick","onKeyDown","selectedItem","index"],ts=["refKey","ref","onKeyDown","onClick","preventKeyAction"];ft.stateChangeTypes=Xl;function ft(e){e===void 0&&(e={}),Ql();var t=te({},Zl,e),n=t.getA11yStatusMessage,a=t.environment,r=t.keyNavigationNext,o=t.keyNavigationPrevious,i=Pl(Yl,t,Gl,Jl),s=i[0],l=i[1],c=s.activeIndex,h=s.selectedItems,g=mn(),x=u.useRef(null),I=u.useRef();I.current=[];var y=zn({state:s,props:t});Da(n,s,[c,h],a),u.useEffect(function(){g||(c===-1&&x.current?x.current.focus():I.current[c]&&I.current[c].focus())},[c]);var w=Ra(),C=u.useMemo(function(){var L;return L={},L[o]=function(){l({type:dr})},L[r]=function(){l({type:cr})},L.Delete=function(){l({type:lr})},L.Backspace=function(){l({type:sr})},L},[l,r,o]),E=u.useMemo(function(){var L;return L={},L[o]=function(G){ea(G)&&l({type:ur})},L.Backspace=function(P){ea(P)&&l({type:fr})},L},[l,o]),S=u.useCallback(function(L){var G,P=L===void 0?{}:L,k=P.refKey,ne=k===void 0?"ref":k,oe=P.ref,ge=P.onClick,ie=P.onKeyDown,z=P.selectedItem,de=P.index,me=ht(P,es),we=y.current.state,Te=ka(z,de,we.selectedItems,"Pass either item or index to getSelectedItemProps!"),$=Te[1],O=$>-1&&$===we.activeIndex,R=function(){l({type:ir,index:$})},U=function(pe){var Y=Tn(pe);Y&&C[Y]&&C[Y](pe)};return te((G={},G[ne]=gt(oe,function(re){re&&I.current.push(re)}),G.tabIndex=O?0:-1,G.onClick=_e(ge,R),G.onKeyDown=_e(ie,U),G),me)},[l,y,C]),B=u.useCallback(function(L,G){var P,k=L===void 0?{}:L,ne=k.refKey,oe=ne===void 0?"ref":ne,ge=k.ref,ie=k.onKeyDown,z=k.onClick,de=k.preventKeyAction,me=de===void 0?!1:de,we=ht(k,ts),Te=G===void 0?{}:G;Te.suppressRefError;var $=function(U){var re=Tn(U);re&&E[re]&&E[re](U)},O=function(){l({type:hr})};return te((P={},P[oe]=gt(ge,function(R){R&&(x.current=R)}),P),!me&&{onKeyDown:_e(ie,$),onClick:_e(z,O)},we)},[l,E,w]),f=u.useCallback(function(L){l({type:mr,selectedItem:L})},[l]),M=u.useCallback(function(L){l({type:pr,selectedItem:L})},[l]),H=u.useCallback(function(L){l({type:br,selectedItems:L})},[l]),W=u.useCallback(function(L){l({type:gr,activeIndex:L})},[l]),F=u.useCallback(function(){l({type:vr})},[l]);return{getSelectedItemProps:S,getDropdownProps:B,addSelectedItem:f,removeSelectedItem:M,setSelectedItems:H,setActiveIndex:W,reset:F,selectedItems:h,activeIndex:c}}function ns(e,t,n){const a=n.toLowerCase();return e.filter(r=>!t.includes(r)&&r.title.toLowerCase().includes(a))}const rs=u.forwardRef(({selectedItems:e,setSelectedItems:t,data:n,label:a,...r},o)=>{const[i,s]=u.useState(""),l=u.useMemo(()=>ns(n,e,i),[e,i]),{getSelectedItemProps:c,getDropdownProps:h,removeSelectedItem:g}=ft({selectedItems:e,onStateChange({selectedItems:f,type:M}){switch(M){case ft.stateChangeTypes.SelectedItemKeyDownBackspace:case ft.stateChangeTypes.SelectedItemKeyDownDelete:case ft.stateChangeTypes.DropdownKeyDownBackspace:case ft.stateChangeTypes.FunctionRemoveSelectedItem:t(f);break}}}),{isOpen:x,getToggleButtonProps:I,getLabelProps:y,getMenuProps:w,getInputProps:C,highlightedIndex:E,getItemProps:S,selectedItem:B}=et({items:l,itemToString(f){return f?f.title:""},defaultHighlightedIndex:0,selectedItem:null,inputValue:i,stateReducer(f,M){const{changes:H,type:W}=M;switch(W){case et.stateChangeTypes.InputKeyDownEnter:case et.stateChangeTypes.ItemClick:return{...H,isOpen:!0,highlightedIndex:0};default:return H}},onStateChange({inputValue:f,type:M,selectedItem:H}){switch(M){case et.stateChangeTypes.InputKeyDownEnter:case et.stateChangeTypes.ItemClick:case et.stateChangeTypes.InputBlur:H&&(t([...e,H]),s(""));break;case et.stateChangeTypes.InputChange:s(f);break}}});return _("div",{ref:o,...r,children:[_("div",{className:"fb-flex fb-flex-col fb-gap-1",children:[!!a&&d("label",{className:"fb-w-fit",...y(),children:a}),_("div",{className:"fb-bg-white fb-border-solid fb-rounded-sm fb-border-[#EEF3F9] fb-border fb-inline-flex fb-gap-2 fb-items-center fb-flex-wrap fb-px-1 fb-py-0.5",children:[e.map(function(M,H){return _("span",{className:"fb-bg-gray-100 fb-rounded-sm fb-py-0.5 fb-px-1.5 fb-flex fb-items-center",...c({selectedItem:M,index:H}),children:[d("span",{className:"fb-leading-normal",children:M.title}),d("span",{className:"fb-pl-1 fb-text-gray-400 fb-cursor-pointer",onClick:W=>{W.stopPropagation(),g(M)},children:d("svg",{className:"fb-w-3 fb-h-3 fb-items-center fb-flex fb-justify-center hover:fb-fill-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:d("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})})})]},`selected-item-${H}`)}),_("div",{className:"fb-flex fb-gap-0.5 fb-grow",children:[d("input",{placeholder:b("search")+"...",className:"fb-max-w-20 fb-border-none fb-outline-none fb-leading-normal fb-py-1",...C(h({preventKeyAction:x}))}),d("span",{"aria-label":"toggle menu",className:"fb-ml-auto fb-px-1 fb-cursor-pointer fb-transition-all fb-flex fb-items-center",...I(),children:d("svg",{className:_r("fb-w-5 fb-h-5 fb-items-center fb-flex fb-justify-center",{"fb-rotate-180":x&&l.length}),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:d("path",{d:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"})})})]})]})]}),d("ul",{className:`fb-absolute fb-w-[inherit] fb-bg-white fb-mt-1 fb-shadow-md fb-max-h-80 fb-overflow-scroll fb-p-0 fb-z-10 ${!(x&&l.length)&&"fb-hidden"}`,...w(),children:x&&l.map((f,M)=>d("li",{className:_r(E===M&&"fb-bg-admin-primary fb-text-white",B===f&&"fb-font-bold","fb-py-2 fb-px-3 fb-shadow-sm fb-flex fb-flex-col"),...S({item:f,index:M}),children:d("span",{children:f.title})},f.id))})]})}),{post_types:as}=window.fbv_admin,os=Object.entries(as).map(([e,t])=>({id:e,title:t})),is=({post_types:e})=>{const t=Object.values(e).reduce((n,a)=>(n.folders+=a.count,n.items+=Object.values(a.posts).reduce((r,o)=>r+o.post_ids.split(",").length,0),n),{folders:0,items:0});return _(Be,{children:[_("div",{className:"fb-inline-block fb-bg-gray-200 fb-mr-2 fb-rounded-full fb-px-2 fb-py-1",children:[t.folders," folders"]}),_("div",{className:"fb-bg-gray-200 fb-inline-block fb-rounded-full fb-px-2 fb-py-1",children:[t.items," items"]})]})},kn=[],ls=()=>{const[e,t]=u.useState([]),[n,a]=u.useState({}),[r,o]=u.useState(!1),[i,s]=u.useState(""),l=async h=>{h.preventDefault(),o(!0);try{const g=await Rn.getPostTypesToImport({post_types:Object.values(e).map(x=>x.id)});Object.keys(g).length===0?J.success(b("no_posts_found")):a(g)}catch(g){console.log({error:g})}finally{o(!1)}},c=async(h,g)=>{s(h),J.promise(Rn.importPostType(g),{loading:b("importing"),success:()=>(s(""),kn.push(h),b("successfully_imported")),error:b("import_failed")})};return _(Be,{children:[d("h2",{children:b("folders_for_post_types")}),_("h4",{className:"fb-mt-0 fb-mb-4 fb-p-0",children:[b("select_post_types_scan"),":"]}),d(rs,{selectedItems:e,setSelectedItems:t,className:"fb-w-full wp-md:fb-w-96 fb-mb-4",data:os}),d(Se,{className:r&&"updating-message fb-pointer-events-none",disabled:!e.length,onClick:l,children:b("scan")}),Object.entries(n).map(([h,g])=>d("ul",{children:_("li",{className:"fb-bg-[#f6f7f7] fb-flex fb-items-center fb-p-3 fb-rounded-md fb-flex-wrap",children:[_("div",{className:"fb-w-1/2 wp-md:fb-w-1/3 wp-md:fb-mb-0 fb-mb-2",children:[d("h3",{className:"fb-mt-0 fb-mb-2",children:g.name}),_("p",{className:"fb-m-0 fb-font-medium description",children:[b("by")," (",g.author,")"]})]}),d("div",{className:"fb-w-1/2 wp-md:fb-w-1/3 wp-md:fb-text-center fb-text-right",children:d(is,{post_types:g.post_types})}),d("div",{className:"wp-md:fb-w-1/3 fb-w-full",children:d(Se,{disabled:kn.includes(h),className:Ce("fb-ml-auto",{"updating-message fb-pointer-events-none":i===h}),id:"fb-import-from-other-plugins-btn",onClick:()=>c(h,g),children:kn.includes(h)?b("imported"):b("import")})})]})},h))]})},{data_import:ss}=window.fbv_data,cs=()=>{const[e,t]=u.useState(ss.plugins),[n,a]=u.useState(!1),[r,o]=u.useState(""),i=async s=>{a(!0),o(s);try{const l=await at.importPlugin(s),c={...e},h='<div class="njt-success-notice notice notice-success is-dismissible"><p>'+l.mess+`</p><button type="button" class="notice-dismiss" onClick="jQuery('.njt-success-notice').remove()"><span class="screen-reader-text">Dismiss this notice.</span></button></div>`;jQuery(".wrap").prepend(h),a(!1),o(""),c[s].completed=!0,t(c)}catch(l){console.log({error:l}),J.error(b("please_try_again")),a(!1),o("")}};return _(Be,{children:[d("h3",{className:"fb-mt-0 fb-mb-4 fb-p-0",children:b("import")}),d("p",{className:"description fb-mb-4",children:b("import_folders_desc")}),!!Object.keys(e).length&&d("table",{className:"widefat striped fb-rounded-xl fb-overflow-hidden fb-shadow-none fb-border-[#EEF3F9]",children:d("tbody",{children:Object.values(e).map(s=>_("tr",{className:"importer-item",children:[_("td",{className:"import-system fb-block fb-p-3 wp-md:fb-table-cell wp-md:fb-p-6",children:[d("span",{className:"importer-title",children:d("b",{children:s.name})}),_("span",{children:[b("by")," (",s.author,")"]})]}),_("td",{className:"desc fb-block fb-p-3 wp-md:fb-p-5 wp-md:fb-table-cell",children:[d("span",{className:"importer-desc wp-md:fb-table-cell fb-mb-5 wp-md:fb-mb-5",dangerouslySetInnerHTML:{__html:s.description}}),d("span",{className:"importer-action fb-m-0 wp-md:fb-mt-4",children:d(Se,{$secondary:!0,onClick:()=>i(s.prefix),className:Ce("fb-m-0 fb-ml-auto wp-md:fb-ml-0",{"updating-message":s.prefix===r&&n}),disabled:n&&s.prefix===r||s.completed,children:s.completed?b("imported"):b("update_noti_btn")})})]})]},s.prefix))})})]})},ds=()=>_(jt,{children:[d(cs,{}),d(je,{}),d(bl,{}),d(je,{}),d(ls,{})]}),dt={cleanData(){return ke("GET","/wipe-data")},async generateApi(){return ke("POST","/fbv-api",{act:"generate-key"})},async wipeData(){return ke("POST","/fb-wipe-clear-all-data")},async getOldFolders(){return ke("POST","/fb-get-old-data")},async insertOldFolders(e){return ke("POST","/fb-insert-old-data",e)},async generateAttachmentSize(e){return ke("POST","/generate-attachment-size",e)},async syncWPML(e){return ao("POST",e)}},{update_database_notice:us}=window.fbv_data,{rest_api_key:fs}=window.fbv_admin,{media_url:hs}=window.fbv_data,{wpml:ms}=window.fbv_admin,Et=xt.div`fb-flex fb-flex-col wp-md:fb-flex-row wp-md:fb-items-center fb-justify-between wp-md:fb-gap-10`,Mt=xt.h3`fb-mt-0 fb-mb-4 fb-p-0`,zt=xt.p`wp-md:fb-m-0`,ps=()=>{const[e,t]=u.useState(!1),[n,a]=u.useState(!1),[r,o]=u.useState(fs),[i,s]=u.useState(!1),[l,c]=u.useState(!1),[h,g]=u.useState(!1),[x,I]=u.useState(""),[y]=Li(),w=u.useRef(!1),C=!!y.get("autorun")&&us,E=()=>{if(!confirm(b("are_you_sure")))return!1;t(!0),J.promise(dt.generateApi(),{loading:b("generating"),success:F=>(t(!1),F.success&&o(F.data.key),b("generated")),error:F=>(t(!1),F.responseJSON.message)})},S=async()=>{if(!confirm(b("are_you_sure")))return!1;a(!0),J.promise(dt.wipeData(),{loading:b("loading"),success:F=>(a(!1),location.reload(),F.data.mess),error:F=>(a(!1),F.data.mess)})},B=async(F,L)=>{if(typeof F[L]<"u")try{await dt.insertOldFolders({folders:F[L]}),await B(F,L+1)}catch{w.current=!0,J.error(b("please_try_again"))}else s(!1)},f=async()=>{w.current=!1;try{s(!0);const F=await dt.getOldFolders();if(F.success)try{if(await B(F.data.folders,0),s(!1),w.current)return;J.success(_("span",{children:[b("filebird_db_updated")," ",d("a",{href:hs,children:b("go_to_media")})]}),{style:{minWidth:"365px"}}),jQuery("#njt-fb-update-db-noti .notice-dismiss").trigger("click")}catch(L){console.log({err:L}),s(!1)}}catch{s(!1),J.error(b("import_failed"))}},M=async()=>{c(!0);try{await H(1),J.success(b("generated")),c(!1)}catch{J.error(b("please_try_again")),c(!1)}},H=async F=>{try{const L=await dt.generateAttachmentSize({page:F});L.success&&L.next=="1"&&await H(F+1)}catch{J.error(b("please_try_again"))}},W=async()=>{g(!0);try{const F=await dt.syncWPML({action:"fbv_sync_wpml"});I(F.message),g(!1)}catch{g(!1)}};return u.useEffect(()=>{C&&f()},[C]),_(jt,{children:[_(Et,{children:[_("div",{className:"fb-flex-1",children:[d(Mt,{children:b("import_from_old_version")}),d(zt,{children:b("update_old_folder_desc")})]}),d(Se,{disabled:i,className:Ce("fb-ml-auto wp-md:fb-w-0",{"updating-message":i}),onClick:()=>f(),children:b("update")})]}),d(je,{}),_(Et,{children:[_("div",{className:"fb-flex-1",children:[d(Mt,{children:b("rest_api_key")}),d("p",{dangerouslySetInnerHTML:{__html:b("generate_api_desc")}}),d("input",{className:Ce({hidden:!r,"large-text":!0}),readOnly:!0,value:r,type:"text",autoComplete:"off"})]}),d(Se,{className:Ce("fb-ml-auto fb-mt-4 wp-md:fb-w-0 wp-md:fb-m-0",{"updating-message":e}),disabled:e,onClick:E,children:b("generate")})]}),d(je,{}),_(Et,{children:[_("div",{className:"fb-flex-1",children:[d(Mt,{children:b("attachment_size")}),d(zt,{dangerouslySetInnerHTML:{__html:b("generate_attachment_size_desc")}})]}),d(Se,{className:Ce("fb-ml-auto wp-md:fb-w-0",{"updating-message":l}),disabled:l,onClick:M,children:l?b("generating"):b("generate")})]}),d(je,{}),ms.display_sync&&_(Be,{children:[_(Et,{children:[_("div",{className:"fb-flex-1",children:[d(Mt,{children:b("sync_wpml")}),d(zt,{dangerouslySetInnerHTML:{__html:b("sync_wpml_desc")}})]}),d(Se,{className:Ce("fb-ml-auto wp-md:fb-w-0",{"updating-message":h}),disabled:h||!!x,onClick:W,type:"button",children:x||b("sync")})]}),d(je,{})]}),_(Et,{children:[_("div",{className:"fb-flex-1",children:[d(Mt,{children:b("clear_all_data")}),d(zt,{dangerouslySetInnerHTML:{__html:b("clear_all_data_desc")}})]}),d(Se,{className:Ce("fb-ml-auto wp-md:fb-w-0",{"updating-message":n}),$danger:!0,disabled:n,onClick:S,children:b("clear")})]})]})},bs=Ci([{path:"/",element:d(al,{}),errorElement:d(ol,{}),children:[{index:!0,element:d(Vr,{})},{path:"activation",element:d(Vr,{})},{path:":tools",element:d(ps,{})},{path:"import-export",element:d(ds,{})},{path:"settings",element:d(fl,{})},{path:"document-library",element:d(Zi,{})}]}]);document.addEventListener("DOMContentLoaded",()=>{oo();const e=document.getElementById("filebird-setting");e&&io.createRoot(e).render(d(Ot.StrictMode,{children:d(hi,{router:bs})}))});
